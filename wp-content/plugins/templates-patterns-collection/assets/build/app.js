(window.webpackJsonp_templates_patterns_collection=window.webpackJsonp_templates_patterns_collection||[]).push([[1],{23:function(e,t,n){}}]),function(e){function t(t){for(var r,o,i=t[0],s=t[1],l=t[2],m=0,p=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(e[r]=s[r]);for(u&&u(t);p.length;)p.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(r=!1)}r&&(c.splice(t--,1),e=o(o.s=n[0]))}return e}var r={},a={0:0},c=[];function o(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=r,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(n,r,function(t){return e[t]}.bind(null,r));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window.webpackJsonp_templates_patterns_collection=window.webpackJsonp_templates_patterns_collection||[],s=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=s;c.push([35,1]),n()}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t,n){var r=n(24),a=n(25),c=n(16),o=n(26);e.exports=function(e,t){return r(e)||a(e,t)||c(e,t)||o()}},function(e,t){e.exports=window.wp.data},function(e,t){e.exports=window.wp.primitives},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var c=typeof r;if("string"===c||"number"===c)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===c)for(var i in r)n.call(r,i)&&r[i]&&e.push(i)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=window.wp.compose},function(e,t){e.exports=window.regeneratorRuntime},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t){function n(e,t,n,r,a,c,o){try{var i=e[c](o),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(a,c){var o=e.apply(t,r);function i(e){n(o,a,c,i,s,"next",e)}function s(e){n(o,a,c,i,s,"throw",e)}i(void 0)}))}}},function(e,t,n){"use strict";const r=n(32),a=n(33),c=n(34);function o(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function i(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e,t){return t.decode?a(e):e}function l(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function u(e){const t=(e=l(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function m(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){o((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const a="string"==typeof n&&n.includes(e.arrayFormatSeparator),c="string"==typeof n&&!a&&s(n,e).includes(e.arrayFormatSeparator);n=c?s(n,e):n;const o=a||c?n.split(e.arrayFormatSeparator).map(t=>s(t,e)):null===n?n:s(n,e);r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const a of e.split("&")){let[e,o]=c(t.decode?a.replace(/\+/g," "):a,"=");o=void 0===o?null:["comma","separator"].includes(t.arrayFormat)?o:s(o,t),n(s(e,t),o,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=m(n[e],t);else r[e]=m(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=function e(t){return Array.isArray(t)?t.sort():"object"==typeof t?e(Object.keys(t)).sort((e,t)=>Number(e)-Number(t)).map(e=>t[e]):t}(n):e[t]=n,e},Object.create(null))}t.extract=u,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";o((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[i(t,e),"[",a,"]"].join("")]:[...n,[i(t,e),"[",i(a,e),"]=",i(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[i(t,e),"[]"].join("")]:[...n,[i(t,e),"[]=",i(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[i(t,e),"=",i(r,e)].join("")]:[[n,i(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,i(t,e)]:[...n,[i(t,e),"=",i(r,e)].join("")]}}(t),a={};for(const t of Object.keys(e))n(t)||(a[t]=e[t]);const c=Object.keys(a);return!1!==t.sort&&c.sort(t.sort),c.map(n=>{const a=e[n];return void 0===a?"":null===a?i(n,t):Array.isArray(a)?a.reduce(r(n),[]).join("&"):i(n,t)+"="+i(a,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=c(e,"#");return Object.assign({url:n.split("?")[0]||"",query:p(u(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:s(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=l(e.url).split("?")[0]||"",a=t.extract(e.url),c=t.parse(a,{sort:!1}),o=Object.assign(c,e.query);let s=t.stringify(o,n);s&&(s="?"+s);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u="#"+i(e.fragmentIdentifier,n)),`${r}${s}${u}`}},function(e,t,n){var r=n(27),a=n(28),c=n(16),o=n(29);e.exports=function(e){return r(e)||a(e)||c(e)||o()}},,function(e,t){e.exports=window.wp.apiFetch},function(e,t,n){var r;r=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(5)()},function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=function(e,t,n){var r=e.direction,a=e.value;switch(r){case"top":return n.top+a<t.top&&n.bottom>t.bottom&&n.left<t.left&&n.right>t.right;case"left":return n.left+a<t.left&&n.bottom>t.bottom&&n.top<t.top&&n.right>t.right;case"bottom":return n.bottom-a>t.bottom&&n.left<t.left&&n.right>t.right&&n.top<t.top;case"right":return n.right-a>t.right&&n.left<t.left&&n.top<t.top&&n.bottom>t.bottom}}},function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var r=n(1),a=n.n(r),c=n(2),o=n.n(c),i=n(0),s=n.n(i),l=n(3),u=n.n(l);function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=function(e){function t(e){var n,r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this,r=d(t).call(this,e),n=!r||"object"!==m(r)&&"function"!=typeof r?b(this):r,h(b(n),"getContainer",(function(){return n.props.containment||window})),h(b(n),"addEventListener",(function(e,t,r,a){var c;n.debounceCheck||(n.debounceCheck={});var o=function(){c=null,n.check()},i={target:e,fn:a>-1?function(){c||(c=setTimeout(o,a||0))}:function(){clearTimeout(c),c=setTimeout(o,r||0)},getLastTimeout:function(){return c}};e.addEventListener(t,i.fn),n.debounceCheck[t]=i})),h(b(n),"startWatching",(function(){n.debounceCheck||n.interval||(n.props.intervalCheck&&(n.interval=setInterval(n.check,n.props.intervalDelay)),n.props.scrollCheck&&n.addEventListener(n.getContainer(),"scroll",n.props.scrollDelay,n.props.scrollThrottle),n.props.resizeCheck&&n.addEventListener(window,"resize",n.props.resizeDelay,n.props.resizeThrottle),!n.props.delayedCall&&n.check())})),h(b(n),"stopWatching",(function(){if(n.debounceCheck)for(var e in n.debounceCheck)if(n.debounceCheck.hasOwnProperty(e)){var t=n.debounceCheck[e];clearTimeout(t.getLastTimeout()),t.target.removeEventListener(e,t.fn),n.debounceCheck[e]=null}n.debounceCheck=null,n.interval&&(n.interval=clearInterval(n.interval))})),h(b(n),"check",(function(){var e,t,r=n.node;if(!r)return n.state;if(e=function(e){return void 0===e.width&&(e.width=e.right-e.left),void 0===e.height&&(e.height=e.bottom-e.top),e}(n.roundRectDown(r.getBoundingClientRect())),n.props.containment){var a=n.props.containment.getBoundingClientRect();t={top:a.top,left:a.left,bottom:a.bottom,right:a.right}}else t={top:0,left:0,bottom:window.innerHeight||document.documentElement.clientHeight,right:window.innerWidth||document.documentElement.clientWidth};var c=n.props.offset||{};"object"===m(c)&&(t.top+=c.top||0,t.left+=c.left||0,t.bottom-=c.bottom||0,t.right-=c.right||0);var o={top:e.top>=t.top,left:e.left>=t.left,bottom:e.bottom<=t.bottom,right:e.right<=t.right},i=e.height>0&&e.width>0,s=i&&o.top&&o.left&&o.bottom&&o.right;if(i&&n.props.partialVisibility){var l=e.top<=t.bottom&&e.bottom>=t.top&&e.left<=t.right&&e.right>=t.left;"string"==typeof n.props.partialVisibility&&(l=o[n.props.partialVisibility]),s=n.props.minTopValue?l&&e.top<=t.bottom-n.props.minTopValue:l}"string"==typeof c.direction&&"number"==typeof c.value&&(console.warn("[notice] offset.direction and offset.value have been deprecated. They still work for now, but will be removed in next major version. Please upgrade to the new syntax: { %s: %d }",c.direction,c.value),s=u()(c,e,t));var p=n.state;return n.state.isVisible!==s&&(p={isVisible:s,visibilityRect:o},n.setState(p),n.props.onChange&&n.props.onChange(s)),p})),n.state={isVisible:null,visibilityRect:{}},n}var n,r;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.node=o.a.findDOMNode(this),this.props.active&&this.startWatching()}},{key:"componentWillUnmount",value:function(){this.stopWatching()}},{key:"componentDidUpdate",value:function(e){this.node=o.a.findDOMNode(this),this.props.active&&!e.active?(this.setState({isVisible:null,visibilityRect:{}}),this.startWatching()):this.props.active||this.stopWatching()}},{key:"roundRectDown",value:function(e){return{top:Math.floor(e.top),left:Math.floor(e.left),bottom:Math.floor(e.bottom),right:Math.floor(e.right)}}},{key:"render",value:function(){return this.props.children instanceof Function?this.props.children({isVisible:this.state.isVisible,visibilityRect:this.state.visibilityRect}):a.a.Children.only(this.props.children)}}])&&p(n.prototype,r),t}(a.a.Component);h(g,"defaultProps",{active:!0,partialVisibility:!1,minTopValue:0,scrollCheck:!1,scrollDelay:250,scrollThrottle:-1,resizeCheck:!1,resizeDelay:250,resizeThrottle:-1,intervalCheck:!0,intervalDelay:100,delayedCall:!1,offset:{},containment:null,children:a.a.createElement("span",null)}),h(g,"propTypes",{onChange:s.a.func,active:s.a.bool,partialVisibility:s.a.oneOfType([s.a.bool,s.a.oneOf(["top","right","bottom","left"])]),delayedCall:s.a.bool,offset:s.a.oneOfType([s.a.shape({top:s.a.number,left:s.a.number,bottom:s.a.number,right:s.a.number}),s.a.shape({direction:s.a.oneOf(["top","right","bottom","left"]),value:s.a.number})]),scrollCheck:s.a.bool,scrollDelay:s.a.number,scrollThrottle:s.a.number,resizeCheck:s.a.bool,resizeDelay:s.a.number,resizeThrottle:s.a.number,intervalCheck:s.a.bool,intervalDelay:s.a.number,containment:"undefined"!=typeof window?s.a.instanceOf(window.Element):s.a.any,children:s.a.oneOfType([s.a.element,s.a.func]),minTopValue:s.a.number})},function(e,t,n){"use strict";var r=n(6);function a(){}function c(){}c.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,c,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}])},e.exports=r(n(30),n(31))},function(e,t,n){var r=n(17);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},function(e,t){e.exports=window.wp.keycodes},function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}},function(e,t){e.exports=window.wp.api},function(e,t,n){var r;r=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&function(e,t){(Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=s(e);if(t){var a=s(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return l(this,n)}}function m(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(e){return Array.isArray?Array.isArray(e):"[object Array]"===v(e)}function b(e){return"string"==typeof e}function f(e){return"number"==typeof e}function h(t){return"object"===e(t)}function g(e){return null!=e}function O(e){return!e.trim().length}function v(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var j=function(e){return"Invalid value for key ".concat(e)},y=function(e){return"Pattern length exceeds max of ".concat(e,".")},E=Object.prototype.hasOwnProperty,_=function(){function e(n){var r=this;t(this,e),this._keys=[],this._keyMap={};var a=0;n.forEach((function(e){var t=w(e);a+=t.weight,r._keys.push(t),r._keyMap[t.id]=t,a+=t.weight})),this._keys.forEach((function(e){e.weight/=a}))}return r(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function w(e){var t=null,n=null,r=null,a=1;if(b(e)||d(e))r=e,t=S(e),n=k(e);else{if(!E.call(e,"name"))throw new Error("Missing ".concat("name"," property in key"));var c=e.name;if(r=c,E.call(e,"weight")&&(a=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(c));t=S(c),n=k(c)}return{path:t,id:n,weight:a,src:r}}function S(e){return d(e)?e:e.split(".")}function k(e){return d(e)?e.join("."):e}var C=o({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}},{},{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},{},{location:0,threshold:.6,distance:100},{},{useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,a,c){if(g(t))if(a[c]){var o=t[a[c]];if(!g(o))return;if(c===a.length-1&&(b(o)||f(o)||function(e){return!0===e||!1===e||function(e){return h(e)&&null!==e}(e)&&"[object Boolean]"==v(e)}(o)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(o));else if(d(o)){r=!0;for(var i=0,s=o.length;i<s;i+=1)e(o[i],a,c+1)}else a.length&&e(o,a,c+1)}else n.push(t)}(e,b(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1}),N=/[^ ]+/g;function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=new Map,n=Math.pow(10,e);return{get:function(e){var r=e.match(N).length;if(t.has(r))return t.get(r);var a=1/Math.sqrt(r),c=parseFloat(Math.round(a*n)/n);return t.set(r,c),c},clear:function(){t.clear()}}}var T=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.getFn,a=void 0===r?C.getFn:r;t(this,e),this.norm=x(3),this.getFn=a,this.isCreated=!1,this.setIndexRecords()}return r(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,b(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();b(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(g(e)&&!O(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,a){var c=n.getFn(e,t.path);if(g(c))if(d(c))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:c}];t.length;){var o=t.pop(),i=o.nestedArrIndex,s=o.value;if(g(s))if(b(s)&&!O(s)){var l={v:s,i:i,n:n.norm.get(s)};e.push(l)}else d(s)&&s.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}r.$[a]=e}();else if(!O(c)){var o={v:c,n:n.norm.get(c)};r.$[a]=o}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function P(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,a=void 0===r?C.getFn:r,c=new T({getFn:a});return c.setKeys(e.map(w)),c.setSources(t),c.create(),c}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,a=t.currentLocation,c=void 0===a?0:a,o=t.expectedLocation,i=void 0===o?0:o,s=t.distance,l=void 0===s?C.distance:s,u=t.ignoreLocation,m=void 0===u?C.ignoreLocation:u,p=r/e.length;if(m)return p;var d=Math.abs(i-c);return l?p+d/l:d?1:p}function M(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C.minMatchCharLength,n=[],r=-1,a=-1,c=0,o=e.length;c<o;c+=1){var i=e[c];i&&-1===r?r=c:i||-1===r||((a=c-1)-r+1>=t&&n.push([r,a]),r=-1)}return e[c-1]&&c-r>=t&&n.push([r,c-1]),n}function I(e){for(var t={},n=0,r=e.length;n<r;n+=1){var a=e.charAt(n);t[a]=(t[a]||0)|1<<r-n-1}return t}var L=function(){function e(n){var r=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=a.location,o=void 0===c?C.location:c,i=a.threshold,s=void 0===i?C.threshold:i,l=a.distance,u=void 0===l?C.distance:l,m=a.includeMatches,p=void 0===m?C.includeMatches:m,d=a.findAllMatches,b=void 0===d?C.findAllMatches:d,f=a.minMatchCharLength,h=void 0===f?C.minMatchCharLength:f,g=a.isCaseSensitive,O=void 0===g?C.isCaseSensitive:g,v=a.ignoreLocation,j=void 0===v?C.ignoreLocation:v;if(t(this,e),this.options={location:o,threshold:s,distance:u,includeMatches:p,findAllMatches:b,minMatchCharLength:h,isCaseSensitive:O,ignoreLocation:j},this.pattern=O?n:n.toLowerCase(),this.chunks=[],this.pattern.length){var y=function(e,t){r.chunks.push({pattern:e,alphabet:I(e),startIndex:t})},E=this.pattern.length;if(E>32){for(var _=0,w=E%32,S=E-w;_<S;)y(this.pattern.substr(_,32),_),_+=32;if(w){var k=E-32;y(this.pattern.substr(k),k)}}else y(this.pattern,0)}}return r(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var a={isMatch:!0,score:0};return r&&(a.indices=[[0,e.length-1]]),a}var c=this.options,o=c.location,i=c.distance,s=c.threshold,l=c.findAllMatches,u=c.minMatchCharLength,p=c.ignoreLocation,d=[],b=0,f=!1;this.chunks.forEach((function(t){var n=t.pattern,a=t.alphabet,c=t.startIndex,h=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.location,c=void 0===a?C.location:a,o=r.distance,i=void 0===o?C.distance:o,s=r.threshold,l=void 0===s?C.threshold:s,u=r.findAllMatches,m=void 0===u?C.findAllMatches:u,p=r.minMatchCharLength,d=void 0===p?C.minMatchCharLength:p,b=r.includeMatches,f=void 0===b?C.includeMatches:b,h=r.ignoreLocation,g=void 0===h?C.ignoreLocation:h;if(t.length>32)throw new Error(y(32));for(var O,v=t.length,j=e.length,E=Math.max(0,Math.min(c,j)),_=l,w=E,S=d>1||f,k=S?Array(j):[];(O=e.indexOf(t,w))>-1;){var N=D(t,{currentLocation:O,expectedLocation:E,distance:i,ignoreLocation:g});if(_=Math.min(N,_),w=O+v,S)for(var x=0;x<v;)k[O+x]=1,x+=1}w=-1;for(var T=[],P=1,I=v+j,L=1<<v-1,A=0;A<v;A+=1){for(var B=0,R=I;B<R;){var F=D(t,{errors:A,currentLocation:E+R,expectedLocation:E,distance:i,ignoreLocation:g});F<=_?B=R:I=R,R=Math.floor((I-B)/2+B)}I=R;var z=Math.max(1,E-R+1),U=m?j:Math.min(E+R,j)+v,V=Array(U+2);V[U+1]=(1<<A)-1;for(var H=U;H>=z;H-=1){var $=H-1,G=n[e.charAt($)];if(S&&(k[$]=+!!G),V[H]=(V[H+1]<<1|1)&G,A&&(V[H]|=(T[H+1]|T[H])<<1|1|T[H+1]),V[H]&L&&(P=D(t,{errors:A,currentLocation:$,expectedLocation:E,distance:i,ignoreLocation:g}))<=_){if(_=P,(w=$)<=E)break;z=Math.max(1,2*E-w)}}var W=D(t,{errors:A+1,currentLocation:E,expectedLocation:E,distance:i,ignoreLocation:g});if(W>_)break;T=V}var q={isMatch:w>=0,score:Math.max(.001,P)};if(S){var Q=M(k,d);Q.length?f&&(q.indices=Q):q.isMatch=!1}return q}(e,n,a,{location:o+c,distance:i,threshold:s,findAllMatches:l,minMatchCharLength:u,includeMatches:r,ignoreLocation:p}),g=h.isMatch,O=h.score,v=h.indices;g&&(f=!0),b+=O,g&&v&&(d=[].concat(m(d),m(v)))}));var h={isMatch:f,score:f?b/this.chunks.length:1};return f&&r&&(h.indices=d),h}}]),e}(),A=function(){function e(n){t(this,e),this.pattern=n}return r(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return B(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return B(e,this.singleRegex)}}]),e}();function B(e,t){var n=e.match(t);return n?n[1]:null}var R=function(e){i(a,e);var n=u(a);function a(e){return t(this,a),n.call(this,e)}return r(a,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),a}(A),F=function(e){i(a,e);var n=u(a);function a(e){return t(this,a),n.call(this,e)}return r(a,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),a}(A),z=function(e){i(a,e);var n=u(a);function a(e){return t(this,a),n.call(this,e)}return r(a,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),a}(A),U=function(e){i(a,e);var n=u(a);function a(e){return t(this,a),n.call(this,e)}return r(a,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),a}(A),V=function(e){i(a,e);var n=u(a);function a(e){return t(this,a),n.call(this,e)}return r(a,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),a}(A),H=function(e){i(a,e);var n=u(a);function a(e){return t(this,a),n.call(this,e)}return r(a,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),a}(A),$=function(e){i(a,e);var n=u(a);function a(e){var r,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=c.location,i=void 0===o?C.location:o,s=c.threshold,l=void 0===s?C.threshold:s,u=c.distance,m=void 0===u?C.distance:u,p=c.includeMatches,d=void 0===p?C.includeMatches:p,b=c.findAllMatches,f=void 0===b?C.findAllMatches:b,h=c.minMatchCharLength,g=void 0===h?C.minMatchCharLength:h,O=c.isCaseSensitive,v=void 0===O?C.isCaseSensitive:O,j=c.ignoreLocation,y=void 0===j?C.ignoreLocation:j;return t(this,a),(r=n.call(this,e))._bitapSearch=new L(e,{location:i,threshold:l,distance:m,includeMatches:d,findAllMatches:f,minMatchCharLength:g,isCaseSensitive:v,ignoreLocation:y}),r}return r(a,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),a}(A),G=function(e){i(a,e);var n=u(a);function a(e){return t(this,a),n.call(this,e)}return r(a,[{key:"search",value:function(e){for(var t,n=0,r=[],a=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+a,r.push([t,n-1]);var c=!!r.length;return{isMatch:c,score:c?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),a}(A),W=[R,G,z,U,H,V,F,$],q=W.length,Q=/ +(?=([^\"]*\"[^\"]*\")*[^\"]*$)/;function Y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(Q).filter((function(e){return e&&!!e.trim()})),r=[],a=0,c=n.length;a<c;a+=1){for(var o=n[a],i=!1,s=-1;!i&&++s<q;){var l=W[s],u=l.isMultiMatch(o);u&&(r.push(new l(u,t)),i=!0)}if(!i)for(s=-1;++s<q;){var m=W[s],p=m.isSingleMatch(o);if(p){r.push(new m(p,t));break}}}return r}))}var J=new Set([$.type,G.type]),K=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.isCaseSensitive,c=void 0===a?C.isCaseSensitive:a,o=r.includeMatches,i=void 0===o?C.includeMatches:o,s=r.minMatchCharLength,l=void 0===s?C.minMatchCharLength:s,u=r.ignoreLocation,m=void 0===u?C.ignoreLocation:u,p=r.findAllMatches,d=void 0===p?C.findAllMatches:p,b=r.location,f=void 0===b?C.location:b,h=r.threshold,g=void 0===h?C.threshold:h,O=r.distance,v=void 0===O?C.distance:O;t(this,e),this.query=null,this.options={isCaseSensitive:c,includeMatches:i,minMatchCharLength:l,findAllMatches:d,ignoreLocation:m,location:f,threshold:g,distance:v},this.pattern=c?n:n.toLowerCase(),this.query=Y(this.pattern,this.options)}return r(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var a=0,c=[],o=0,i=0,s=t.length;i<s;i+=1){var l=t[i];c.length=0,a=0;for(var u=0,p=l.length;u<p;u+=1){var d=l[u],b=d.search(e),f=b.isMatch,h=b.indices,g=b.score;if(!f){o=0,a=0,c.length=0;break}if(a+=1,o+=g,r){var O=d.constructor.type;J.has(O)?c=[].concat(m(c),m(h)):c.push(h)}}if(a){var v={isMatch:!0,score:o/a};return r&&(v.indices=c),v}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),Z=[];function X(e,t){for(var n=0,r=Z.length;n<r;n+=1){var a=Z[n];if(a.condition(e,t))return new a(e,t)}return new L(e,t)}var ee="$and",te="$path",ne=function(e){return!(!e[ee]&&!e.$or)},re=function(e){return!!e[te]},ae=function(e){return!d(e)&&h(e)&&!ne(e)},ce=function(e){return a({},ee,Object.keys(e).map((function(t){return a({},t,e[t])})))};function oe(e,t){var n=t.ignoreFieldNorm,r=void 0===n?C.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,a=e.norm,c=e.score,o=n?n.weight:null;t*=Math.pow(0===c&&o?Number.EPSILON:c,(o||1)*(r?1:a))})),e.score=t}))}function ie(e,t){var n=e.matches;t.matches=[],g(n)&&n.forEach((function(e){if(g(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function se(e,t){t.score=e.score}function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,a=void 0===r?C.includeMatches:r,c=n.includeScore,o=void 0===c?C.includeScore:c,i=[];return a&&i.push(ie),o&&i.push(se),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return i.length&&i.forEach((function(t){t(e,r)})),r}))}var ue=function(){function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0;t(this,e),this.options=o({},C,{},r),this.options.useExtendedSearch,this._keyStore=new _(this.options.keys),this.setCollection(n,a)}return r(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof T))throw new Error("Incorrect 'index' type");this._myIndex=t||P(this.options.keys,this._docs,{getFn:this.options.getFn})}},{key:"add",value:function(e){g(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var a=this._docs[n];e(a,n)&&(this.removeAt(n),n-=1,r-=1,t.push(a))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,a=this.options,c=a.includeMatches,o=a.includeScore,i=a.shouldSort,s=a.sortFn,l=a.ignoreFieldNorm,u=b(e)?b(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return oe(u,{ignoreFieldNorm:l}),i&&u.sort(s),f(r)&&r>-1&&(u=u.slice(0,r)),le(u,this._docs,{includeMatches:c,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=X(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,a=e.i,c=e.n;if(g(n)){var o=t.searchIn(n),i=o.isMatch,s=o.score,l=o.indices;i&&r.push({item:n,idx:a,matches:[{score:s,value:n,norm:c,indices:l}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.auto,a=void 0===r||r,c=function e(n){var r=Object.keys(n),c=re(n);if(!c&&r.length>1&&!ne(n))return e(ce(n));if(ae(n)){var o=c?n[te]:r[0],i=c?n.$val:n[o];if(!b(i))throw new Error(j(o));var s={keyId:k(o),pattern:i};return a&&(s.searcher=X(i,t)),s}var l={children:[],operator:r[0]};return r.forEach((function(t){var r=n[t];d(r)&&r.forEach((function(t){l.children.push(e(t))}))})),l};return ne(e)||(e=ce(e)),c(e)}(e,this.options),r=this._myIndex.records,a={},c=[];return r.forEach((function(e){var r=e.$,o=e.i;if(g(r)){var i=function e(n,r,a){if(!n.children){var c=n.keyId,o=n.searcher,i=t._findMatches({key:t._keyStore.get(c),value:t._myIndex.getValueForItemAtKeyId(r,c),searcher:o});return i&&i.length?[{idx:a,item:r,matches:i}]:[]}switch(n.operator){case ee:for(var s=[],l=0,u=n.children.length;l<u;l+=1){var p=e(n.children[l],r,a);if(!p.length)return[];s.push.apply(s,m(p))}return s;case"$or":for(var d=[],b=0,f=n.children.length;b<f;b+=1){var h=e(n.children[b],r,a);if(h.length){d.push.apply(d,m(h));break}}return d}}(n,r,o);i.length&&(a[o]||(a[o]={idx:o,item:r,matches:[]},c.push(a[o])),i.forEach((function(e){var t,n=e.matches;(t=a[o].matches).push.apply(t,m(n))})))}})),c}},{key:"_searchObjectList",value:function(e){var t=this,n=X(e,this.options),r=this._myIndex,a=r.keys,c=r.records,o=[];return c.forEach((function(e){var r=e.$,c=e.i;if(g(r)){var i=[];a.forEach((function(e,a){i.push.apply(i,m(t._findMatches({key:e,value:r[a],searcher:n})))})),i.length&&o.push({idx:c,item:r,matches:i})}})),o}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!g(n))return[];var a=[];if(d(n))n.forEach((function(e){var n=e.v,c=e.i,o=e.n;if(g(n)){var i=r.searchIn(n),s=i.isMatch,l=i.score,u=i.indices;s&&a.push({score:l,key:t,value:n,idx:c,norm:o,indices:u})}}));else{var c=n.v,o=n.n,i=r.searchIn(c),s=i.isMatch,l=i.score,u=i.indices;s&&a.push({score:l,key:t,value:c,norm:o,indices:u})}return a}}]),e}();return ue.version="6.4.6",ue.createIndex=P,ue.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?C.getFn:n,a=e.keys,c=e.records,o=new T({getFn:r});return o.setKeys(a),o.setIndexRecords(c),o},ue.config=C,function(){Z.push.apply(Z,arguments)}(K),ue},e.exports=r()},,,function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,c=void 0;try{for(var o,i=e[Symbol.iterator]();!(r=(o=i.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,c=e}finally{try{r||null==i.return||i.return()}finally{if(a)throw c}}return n}}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t,n){var r=n(17);e.exports=function(e){if(Array.isArray(e))return r(e)}},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},function(e,t){e.exports=window.React},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>"%"+e.charCodeAt(0).toString(16).toUpperCase())},function(e,t,n){"use strict";var r=new RegExp("%[a-f0-9]{2}","gi"),a=new RegExp("(%[a-f0-9]{2})+","gi");function c(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],c(n),c(r))}function o(e){try{return decodeURIComponent(e)}catch(a){for(var t=e.match(r),n=1;n<t.length;n++)t=(e=c(t,n).join("")).match(r);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=a.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=o(n[0]);r!==n[0]&&(t[n[0]]=r)}n=a.exec(e)}t["%C2"]="�";for(var c=Object.keys(t),i=0;i<c.length;i++){var s=c[i];e=e.replace(new RegExp(s,"g"),t[s])}return e}(e)}}},function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},function(e,t,n){"use strict";n.r(t);var r=n(0),a=(n(23),n(9)),c=n.n(a);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var s=tiobDash,l=s.onboarding,u=s.themeAction,m=s.licenseTIOB,p=void 0!==l.sites&&void 0!==l.sites.sites?Object.keys(l.sites.sites)[0]:"gutenberg",d=localStorage.getItem("neve-onboarding-editor")||p,b=m||{key:"free",valid:"invalid",expiration:"",tier:0},f={sites:l.sites||{},editor:d,category:"all",previewStatus:!1,importModalStatus:!1,installModalStatus:!1,currentSite:null,importing:!1,isOnboarding:l.onboarding||!1,migrationData:null,themeAction:u,currentTab:"starterSites",fetching:!1,singleTemplateImport:null,templateModal:null,searchQuery:"",license:b},h={refreshSites:function(e){return{type:"REFRESH_SITES",payload:{sites:e}}},setCurrentEditor:function(e){return{type:"SET_CURRENT_EDITOR",payload:{editor:e}}},setCurrentCategory:function(e){return{type:"SET_CURRENT_CATEGORY",payload:{category:e}}},setCurrentSite:function(e){return{type:"SET_FOCUSED_SITE",payload:{siteData:e}}},setPreviewStatus:function(e){return e?document.body.classList.add("ob-overflow-off"):document.body.classList.remove("ob-overflow-off"),{type:"SET_PREVIEW_STATUS",payload:{previewStatus:e}}},setImportModalStatus:function(e){return e?document.body.classList.add("ob-overflow-off"):document.body.classList.remove("ob-overflow-off"),{type:"SET_IMPORT_MODAL_STATUS",payload:{importModalStatus:e}}},setInstallModalStatus:function(e){return e?document.body.classList.add("ob-overflow-off"):document.body.classList.remove("ob-overflow-off"),{type:"SET_INSTALL_MODAL_STATUS",payload:{installModalStatus:e}}},setOnboardingState:function(e){return{type:"SET_ONBOARDING",payload:{state:e}}},setThemeAction:function(e){return{type:"SET_THEME_ACTIONS",payload:{themeActions:e}}},setCurrentTab:function(e){return{type:"SET_CURRENT_TAB",payload:{currentTab:e}}},setFetching:function(e){return{type:"SET_FETCHING",payload:{fetching:e}}},setSingleTemplateImport:function(e){return{type:"SET_SINGLE_TEMPLATE_IMPORT",payload:{slug:e}}},setTemplateModal:function(e){return{type:"SET_TEMPLATE_MODAL",payload:{data:e}}},setSearchQuery:function(e){return{type:"SET_SEARCH_QUERY",payload:{query:e}}},setLicense:function(e){return{type:"SET_LICENSE",payload:{license:e}}}},g=n(3),O=n.n(g),v=n(4),j=n(6),y=n.n(j),E=n(7),_=n(2),w=n(1),S=n(8),k=n.n(S),C=n(10),N=n.n(C),x=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return P(e,n,t)},T=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return P(e,t,{},"GET",n)},P=function(){var e=N()(k.a.mark((function e(t){var n,r,a,c,o,i=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=i.length>2&&void 0!==i[2]?i[2]:{},a=i.length>3&&void 0!==i[3]?i[3]:"POST",c=!(i.length>4&&void 0!==i[4])||i[4],o={method:a,headers:{Accept:"application/json","Content-Type":"application/json"}},c&&(o.headers["x-wp-nonce"]=tiobDash.nonce),"POST"===a&&(o.body=JSON.stringify(r)),e.next=9,fetch(t,o).then((function(e){return n?e:e.json()}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=N()(k.a.mark((function e(t){var n,r,a,c,o,i,s,l,u,m,p=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=p.length>1&&void 0!==p[1]?p[1]:"",r=p.length>2&&void 0!==p[2]?p[2]:"",a=p.length>3&&void 0!==p[3]?p[3]:{},(c=new FormData).append("nonce",r),c.append("action",n),Object.keys(a).length>0)for(o=0,i=Object.entries(a);o<i.length;o++)s=O()(i[o],2),l=s[0],u=s[1],c.append(l,u);return m={method:"POST",headers:{Accept:"application/json"},body:c},e.next=10,fetch(t,m).then((function(){return!0}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object(E.compose)(Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getSingleImport;return{themeData:(0,t.getThemeAction)()||!1,singleImport:n()}})),Object(v.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setImportModalStatus,r=t.setInstallModalStatus,a=t.setThemeAction,c=t.setTemplateModal;return{setImportModal:function(e){return n(e)},setInstallModal:function(e){return r(e)},setThemeAction:function(e){return a(e)},showTemplateModal:function(){return c(!0)}}})))((function(e){var t=e.setImportModal,n=e.setInstallModal,a=e.themeData,c=e.setThemeAction,o=e.singleImport,i=e.showTemplateModal,s=a.action,l=a.slug,u=a.nonce,m=tiobDash,p=m.themesURL,d=m.brandedTheme,b=Object(r.useState)(!1),f=O()(b,2),h=f[0],g=f[1],v=Object(r.useState)(null),j=O()(v,2),y=j[0],E=j[1],S=function(){n(!1)},k=function(e){g(!1),E(Object(w.sprintf)(// translators: %s: Error message.
Object(w.__)("An error has ocurred: %s","templates-patterns-collection"),e))},C=function(){g("activating");var e="".concat(p,"?action=activate&stylesheet=").concat(l,"&_wpnonce=").concat(u);T(e,!0).then((function(e){return 200!==e.status?(k(Object(w.__)("Could not activate theme.","templates-patterns-collection")),g(!1),!1):(g(!1),n(!1),c(!1),o?(i(),!1):void t(!0))}))};return Object(r.createElement)(_.Modal,{className:"ob-import-modal install-modal",title:Object(w.__)("Install and Activate Neve","templates-patterns-collection"),onRequestClose:S,shouldCloseOnClickOutside:!h,isDismissible:!h},Object(r.createElement)("div",{className:"modal-body",style:{textAlign:"center"}},!d&&Object(r.createElement)("img",{style:{width:75},src:"".concat(tiobDash.assets,"/img/logo.svg"),alt:Object(w.__)("Logo","templates-patterns-collection")}),y&&Object(r.createElement)("div",{className:"well error",style:{margin:"20px 0"}},y),Object(r.createElement)("p",{style:{lineHeight:1.6,fontSize:"15px"}},Object(w.__)("In order to import the starter site, Neve theme has to be installed and activated. Click the button below to install and activate Neve","templates-patterns-collection"))),Object(r.createElement)("div",{className:"modal-footer",style:{justifyContent:"center"}},Object(r.createElement)("div",{className:"actions",style:{display:"flex"}},!y&&Object(r.createElement)(_.Button,{dismiss:y,isPrimary:!0,disabled:h,className:h&&"is-loading",icon:h&&"update",onClick:"install"===s?function(){g("installing"),wp.updates.installTheme({slug:"neve",success:function(){c(I(I({},a),{},{action:"activate"})),C()},error:function(e){c(I(I({},a),{},{action:"activate"})),k(e.errorMessage||Object(w.__)("Could not install theme.","templates-patterns-collection"))}})}:C},h&&("installing"===h?Object(w.__)("Installing"):Object(w.__)("Activating")),!h&&("install"===s?Object(w.__)("Install and Activate","templates-patterns-collection"):Object(w.__)("Activate","templates-patterns-collection"))),Object(r.createElement)(_.Button,{style:{marginLeft:30},isSecondary:!0,disabled:h,onClick:S},Object(w.__)("Close","templates-patterns-collection")))))}));var L,A=tiobDash.onboarding,B=function(e){return x(A.root+"/install_plugins",e)},R=function(){var e=N()(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n={},t.forEach((function(e){"elementor"===e.template_type?n.elementor=!0:"beaver"===e.template_type&&(n["beaver-builder-lite-version"]=!0)})),!(Object.keys(n).length>0)){e.next=11;break}return e.prev=3,e.next=6,B(n);case 6:e.next=11;break;case 8:return e.prev=8,e.t0=e.catch(3),e.abrupt("return",e.t0);case 11:return e.abrupt("return",x(A.root+"/import_single_templates",t));case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"neve",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;wp.updates.installTheme({slug:e,success:t,error:n})},z=function(e,t,n){var r=tiobDash.themesURL,a="".concat(r,"?action=activate&stylesheet=").concat(e.slug,"&_wpnonce=").concat(e.nonce);T(a,!0).then((function(e){if(200!==e.status)return n(e),!1;t()}))},U=function(e){var t=e.data,n=e.externalInstalled,a=t.external_plugins||null,c=y()(["well"]);return a&&!n?Object(r.createElement)("div",{className:c},Object(r.createElement)("span",null,Object(r.createElement)(_.Dashicon,{icon:"info"}),Object(w.__)("To import this demo you have to install the following plugins","templates-patterns-collection")),Object(r.createElement)("ul",null,a.map((function(e,t){return Object(r.createElement)("li",{key:t},Object(r.createElement)(_.Button,{isLink:!0,href:e.author_url},e.name))})))):""},V=function(e){var t=e.message,n=e.code;return Object(r.createElement)("div",{className:"well error"},t&&Object(r.createElement)("h3",null,Object(r.createElement)(_.Dashicon,{icon:"warning"}),Object(r.createElement)("span",null,t)),Object(r.createElement)("ul",null,Object(r.createElement)("li",{dangerouslySetInnerHTML:{__html:tiobDash.onboarding.i18n.troubleshooting}}),Object(r.createElement)("li",{dangerouslySetInnerHTML:{__html:tiobDash.onboarding.i18n.support}}),n&&Object(r.createElement)("li",null,Object(w.__)("Error code","templates-patterns-collection"),":"," ",Object(r.createElement)("code",null,n)),Object(r.createElement)("li",null,Object(w.__)("Error log","templates-patterns-collection"),":"," ",Object(r.createElement)(_.Button,{isLink:!0,href:tiobDash.onboarding.logUrl},tiobDash.onboarding.logUrl,Object(r.createElement)(_.Dashicon,{icon:"external"})))))},H=function(e){var t=e.data,n=function(e){return console.log(e)},a=Object(r.useState)(!1),c=O()(a,2),o=c[0],i=c[1],s=Object(r.useState)(!1),l=O()(s,2),u=l[0],m=l[1],p=Object(r.useState)(!1),d=O()(p,2),b=d[0],f=d[1],h=Object(r.useState)(null),g=O()(h,2),v=g[0],j=g[1],y=Object(r.useState)(null),E=O()(y,2),S=E[0],k=E[1];if(o)return null;var C=function(){"done"===b&&i(!0),m(!1),j(null),f(!1)};return Object(r.createElement)("div",{className:"ob-migration"},u&&Object(r.createElement)(_.Modal,{className:"ob-import-modal migration",title:Object(w.__)("Migrate","templates-patterns-collection")+" "+t.theme_name,onRequestClose:C,shouldCloseOnClickOutside:!b,isDismissible:!b},Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"modal-body"},v&&Object(r.createElement)(V,{message:v.message||null,code:v.code||null}),!1===b&&!v&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(U,{data:t}),t.mandatory_plugins&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("hr",null),Object(r.createElement)("h3",null,Object(w.__)("The following plugins will be installed","templates-patterns-collection"),":"),Object(r.createElement)("ul",null,Object.keys(t.mandatory_plugins).map((function(e,n){return Object(r.createElement)("li",{key:n},"-"," ",t.mandatory_plugins[e])}))))),"done"===b&&Object(r.createElement)("p",{className:"import-result"},Object(w.__)("Content was successfully imported. Enjoy your new site!","templates-patterns-collection")),!0===b&&Object(r.createElement)("div",{className:"loading"},Object(r.createElement)(_.Dashicon,{icon:"update",size:50}),Object(r.createElement)("h3",null,Object(w.__)("Migrating","templates-patterns-collection"),"..."))),(!b||"done"===b)&&Object(r.createElement)("div",{className:"modal-footer"},Object(r.createElement)(_.Button,{isSecondary:"done"!==b,isLink:"done"===b,className:"done"===b?"close":null,onClick:C},"done"===b?Object(w.__)("Close","templates-patterns-collection"):Object(w.__)("Cancel","templates-patterns-collection")),v||"done"===b?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Button,{style:{marginLeft:20},isSecondary:!0,href:"".concat(tiobDash.onboarding.homeUrl,"/wp-admin/post.php?post=").concat(S,"&action=elementor")},Object(w.__)("Edit Content","templates-patterns-collection")),Object(r.createElement)(_.Button,{isPrimary:!0,href:tiobDash.onboarding.homeUrl},Object(w.__)("View Website","templates-patterns-collection"))):Object(r.createElement)(_.Button,{isPrimary:!0,onClick:function(){var e;e=Object.keys(t.mandatory_plugins).reduce((function(e,t){return e[t]=!0,e}),{}),B(e).then((function(e){if(f(!0),!e.success)return j({code:e.data||null,message:Object(w.__)("Something went wrong while installing the necessary plugins.","templates-patterns-collection")}),f(!1),!1;var n=t.template,r=t.template_name;x(tiobDash.onboarding.root+"/migrate_frontpage",{template:n,template_name:r}).then((function(e){if(!e.success)return j({code:e.data||null,message:Object(w.__)("Something went wrong while importing the website content.","templates-patterns-collection")}),f(!1),!1;k(e.data),f("done")}))}))}},Object(w.__)("Start Migration","templates-patterns-collection"))))),Object(r.createElement)("h2",null,t.heading),Object(r.createElement)("p",null,t.description),Object(r.createElement)("div",{className:"card starter-site-card",style:{maxWidth:330}},Object(r.createElement)("div",{className:"top"},t.screenshot&&Object(r.createElement)("div",{className:"image"},Object(r.createElement)("img",{src:t.screenshot,alt:t.theme_name}))),Object(r.createElement)("div",{className:"bottom"},Object(r.createElement)("p",{className:"title"},t.theme_name))),Object(r.createElement)("div",{className:"actions"},Object(r.createElement)(_.Button,{isPrimary:!0,onClick:function(){return m(!0),!1}},Object(w.__)("Migrate","templates-patterns-collection")+" "+t.theme_name),Object(r.createElement)(_.Button,{isSecondary:!0,onClick:function(){x(tiobDash.onboarding.root+"/dismiss_migration",{theme_mod:t.theme_mod}).then((function(e){if(!e.success)return n(Object(w.__)("Something went wrong. Please reload the page and try again.","templates-patterns-collection")),!1;n(Object(w.__)("Dismissed","templates-patterns-collection")),i(!0)}))}},Object(w.__)("Dismiss","templates-patterns-collection"))))},$=n(12),G=n.n($),W=n(15),q=n.n(W),Q=n(5),Y=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})),J=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})),K=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M14.6 7l-1.2-1L8 12l5.4 6 1.2-1-4.6-5z"})),Z=n(14),X=n.n(Z),ee=n(11),te=new Uint8Array(16);function ne(){if(!L&&!(L="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return L(te)}for(var re=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ae=function(e){return"string"==typeof e&&re.test(e)},ce=[],oe=0;oe<256;++oe)ce.push((oe+256).toString(16).substr(1));var ie=function(e,t,n){var r=(e=e||{}).random||(e.rng||ne)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var a=0;a<16;++a)t[n+a]=r[a];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(ce[e[t+0]]+ce[e[t+1]]+ce[e[t+2]]+ce[e[t+3]]+"-"+ce[e[t+4]]+ce[e[t+5]]+"-"+ce[e[t+6]]+ce[e[t+7]]+"-"+ce[e[t+8]]+ce[e[t+9]]+"-"+ce[e[t+10]]+ce[e[t+11]]+ce[e[t+12]]+ce[e[t+13]]+ce[e[t+14]]+ce[e[t+15]]).toLowerCase();if(!ae(n))throw TypeError("Stringified UUID is invalid");return n}(r)};function se(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?se(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):se(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ue=function(){var e=N()(k.a.mark((function e(){var t,n,r,a,c,o,i=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]&&i[0],n=i.length>1&&void 0!==i[1]?i[1]:{},r=Object(ee.stringifyUrl)({url:tiobDash.endpoint+(t?"page-templates":"templates"),query:le(le({cache:localStorage.getItem("tpcCacheBuster")},tiobDash.params),n)}),e.prev=3,e.next=6,X()({url:r,method:"GET",parse:!1});case 6:if(!(a=e.sent).ok){e.next=15;break}return e.next=10,a.json();case 10:if(!(c=e.sent).message){e.next=13;break}return e.abrupt("return",{success:!1,message:c.message});case 13:return o=a.headers.get("x-wp-totalpages"),e.abrupt("return",{success:!0,total:o,templates:c});case 15:e.next=21;break;case 17:if(e.prev=17,e.t0=e.catch(3),!e.t0.message){e.next=21;break}return e.abrupt("return",{success:!1,message:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(){return e.apply(this,arguments)}}(),me=function(){var e=N()(k.a.mark((function e(t,n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(ee.stringifyUrl)({url:tiobDash.endpoint+"templates/"+t,query:le(le({cache:localStorage.getItem("tpcCacheBuster")},tiobDash.params),{},{template_id:t,template_name:n})}),e.prev=1,e.next=4,X()({url:r,method:"POST"});case 4:return localStorage.setItem("tpcCacheBuster",ie()),e.abrupt("return",{success:!0});case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.message){e.next=12;break}return e.abrupt("return",{success:!1,message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=N()(k.a.mark((function e(t){var n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ee.stringifyUrl)({url:"".concat(tiobDash.endpoint,"templates/").concat(t),query:le({cache:localStorage.getItem("tpcCacheBuster"),_method:"DELETE"},tiobDash.params)}),e.prev=1,e.next=4,X()({url:n,method:"POST"});case 4:return localStorage.setItem("tpcCacheBuster",ie()),e.abrupt("return",{success:!0});case 8:if(e.prev=8,e.t0=e.catch(1),!e.t0.message){e.next=12;break}return e.abrupt("return",{success:!1,message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),de=function(){var e=N()(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ee.stringifyUrl)({url:"".concat(tiobDash.endpoint,"templates/bulk-import"),query:le({templates:t,cache:localStorage.getItem("tpcCacheBuster")},tiobDash.params)}),e.prev=1,e.next=4,X()({url:n,method:"GET",parse:!1});case 4:if(!(r=e.sent).ok){e.next=14;break}if(!r.message){e.next=8;break}return e.abrupt("return",{success:!1,message:r.message});case 8:return e.next=10,r.json();case 10:if(!(a=e.sent).message){e.next=13;break}return e.abrupt("return",{success:!1,message:a.message});case 13:return e.abrupt("return",{success:!0,templates:a});case 14:e.next=20;break;case 16:if(e.prev=16,e.t0=e.catch(1),!e.t0.message){e.next=20;break}return e.abrupt("return",{success:!1,message:e.t0.message});case 20:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}(),be=function(){var e=N()(k.a.mark((function e(t){var n,r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(ee.stringifyUrl)({url:"".concat(tiobDash.endpoint,"templates/").concat(t,"/import"),query:le({cache:localStorage.getItem("tpcCacheBuster")},tiobDash.params)}),r={},e.prev=2,e.next=5,X()({url:n,method:"GET",parse:!1});case 5:if(!(a=e.sent).ok){e.next=12;break}return e.next=9,a.json();case 9:if(!(r=e.sent).message){e.next=12;break}return e.abrupt("return",{success:!1,message:r.message});case 12:e.next=18;break;case 14:if(e.prev=14,e.t0=e.catch(2),!e.t0.message){e.next=18;break}return e.abrupt("return",{success:!1,message:e.t0.message});case 18:return e.abrupt("return",{success:!0,templates:[r]});case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}}(),fe=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(r.createElement)(Q.Path,{d:"M10.2 3.28c3.53 0 6.43 2.61 6.92 6h2.08l-3.5 4-3.5-4h2.32c-.45-1.97-2.21-3.45-4.32-3.45-1.45 0-2.73.71-3.54 1.78L4.95 5.66C6.23 4.2 8.11 3.28 10.2 3.28zm-.4 13.44c-3.52 0-6.43-2.61-6.92-6H.8l3.5-4c1.17 1.33 2.33 2.67 3.5 4H5.48c.45 1.97 2.21 3.45 4.32 3.45 1.45 0 2.73-.71 3.54-1.78l1.71 1.95c-1.28 1.46-3.15 2.38-5.25 2.38z"})),he=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M20.1 5.1L16.9 2 6.2 12.7l-1.3 4.4 4.5-1.3L20.1 5.1zM4 20.8h8v-1.5H4v1.5z"})),ge=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(r.createElement)(Q.Path,{d:"M12 4h3c.6 0 1 .4 1 1v1H3V5c0-.6.5-1 1-1h3c.2-1.1 1.3-2 2.5-2s2.3.9 2.5 2zM8 4h3c-.2-.6-.9-1-1.5-1S8.2 3.4 8 4zM4 7h11l-.9 10.1c0 .5-.5.9-1 .9H5.9c-.5 0-.9-.4-1-.9L4 7z"})),Oe=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M18.3 5.6L9.9 16.9l-4.6-3.4-.9 1.2 5.8 4.3 9.3-12.6z"})),ve=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M7 5.5h10a.5.5 0 01.5.5v12a.5.5 0 01-.5.5H7a.5.5 0 01-.5-.5V6a.5.5 0 01.5-.5zM17 4H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V6a2 2 0 00-2-2zm-1 3.75H8v1.5h8v-1.5zM8 11h8v1.5H8V11zm6 3.25H8v1.5h6v-1.5z"}));function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ee=function(e){var t=e.sortingOrder,n=e.item,a=e.loadTemplates,c=e.userTemplate,o=e.grid,i=e.onPreview,s=e.onImport,l=e.upsell,u=void 0!==l&&l,m=Object(r.useState)(!1),p=O()(m,2),d=p[0],b=p[1],f=Object(r.useState)(!1),h=O()(f,2),g=h[0],v=h[1],j=Object(r.useState)(n.template_name),E=O()(j,2),S=E[0],C=E[1],x=function(){var e=N()(k.a.mark((function e(t){var r,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r=n.template_id,a=n.template_name,b("updating"),e.next=5,me(r,S||a).then((function(e){e.success&&(v(!g),b(!1))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=N()(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm(Object(w.__)("Are you sure you want to delete this template?"))){e.next=2;break}return e.abrupt("return",!1);case 2:b("deleteing"),pe(n.template_id).then((function(e){e.success&&(a(ye({page:0},t)),b(!1))}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){i(n.link)},D=y()("actions",{"no-controls":!c});if(o){var M={backgroundImage:"url(".concat(n.template_thumbnail,")")};return Object(r.createElement)("div",{key:n.template_id,className:"table-grid"},Object(r.createElement)("div",{style:M,className:y()("grid-preview",{"is-loading":g||!1!==d})},Object(r.createElement)("div",{className:"preview-actions"},!c&&n.link&&Object(r.createElement)(_.Button,{isSecondary:!0,disabled:!1!==d,onClick:P},Object(w.__)("Preview")),!u&&Object(r.createElement)(_.Button,{isPrimary:!0,isBusy:"importing"===d,disabled:!1!==d,onClick:s},Object(w.__)("Import")),c&&Object(r.createElement)("div",{className:"preview-controls"},!n.link&&Object(r.createElement)(_.Button,{label:Object(w.__)("Edit"),icon:"updating"===d?fe:he,disabled:g||!1!==d,className:y()({"is-loading":"updating"===d}),onClick:function(){return v(!g)}}),Object(r.createElement)(_.Button,{label:Object(w.__)("Delete"),icon:"deleteing"===d?fe:ge,disabled:!1!==d,className:y()({"is-loading":"deleteing"===d}),onClick:T})))),Object(r.createElement)("div",{className:"card-footer"},g?Object(r.createElement)("form",{onSubmit:x},Object(r.createElement)(_.TextControl,{value:S,onChange:C}),Object(r.createElement)(_.Button,{type:"submit",label:Object(w.__)("Update"),icon:"updating"===d?fe:Oe,disabled:!1!==d,className:y()({"is-loading":"updating"===d})})):Object(r.createElement)("p",null,S)))}return Object(r.createElement)("div",{key:n.template_id,className:"table-row"},Object(r.createElement)("div",{className:"title"},Object(r.createElement)(_.Icon,{icon:ve}),g?Object(r.createElement)(_.TextControl,{label:Object(w.__)("Template Name"),hideLabelFromVision:!0,value:S,onChange:C}):S),c&&Object(r.createElement)("div",{className:"controls"},n.link?Object(r.createElement)(_.Tooltip,{text:Object(w.__)("This template is synced to a page.")},Object(r.createElement)(_.Button,{label:Object(w.__)("Edit"),icon:he,disabled:!0},Object(w.__)("Edit"))):Object(r.createElement)(_.Button,{label:g?Object(w.__)("Update"):Object(w.__)("Edit"),icon:g?"updating"===d?fe:Oe:he,disabled:!1!==d,className:y()({"is-loading":"updating"===d}),onClick:function(){return g?x:v(!g)}},g?Object(w.__)("Update"):Object(w.__)("Edit")),Object(r.createElement)(_.Button,{label:Object(w.__)("Delete"),icon:"deleteing"===d?fe:ge,disabled:!1!==d,className:y()({"is-loading":"deleteing"===d}),onClick:T},"deleting"===d?Object(w.__)("Deleting")+"...":Object(w.__)("Delete"))),Object(r.createElement)("div",{className:D},!c&&n.link&&Object(r.createElement)(_.Button,{isSecondary:!0,disabled:!1!==d,onClick:P},Object(w.__)("Preview")),Object(r.createElement)(_.Button,{isPrimary:!0,isBusy:"importing"===d,onClick:s,disabled:!1!==d},Object(w.__)("Import"))))},_e=function(e){var t=e.isGrid;return Object(r.createElement)("div",{className:"table"},[1,2,3,4,5,6,7,8].map((function(e){return t?Object(r.createElement)("div",{key:e,className:"table-grid"},Object(r.createElement)("div",{className:"grid-preview image is-loading"}),Object(r.createElement)("div",{className:"card-footer"},Object(r.createElement)("p",{className:"title loading",style:{height:14,backgroundColor:"#f3f3f3"}}))):Object(r.createElement)("div",{key:e,className:"table-row"},Object(r.createElement)("p",{className:"title loading",style:{width:"100%",height:14,background:"linear-gradient(to right, #f3f3f3, #ffffff)"}}))})))},we=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M13 11.9l3.3-3.4-1.1-1-3.2 3.3-3.2-3.3-1.1 1 3.3 3.4-3.5 3.6 1 1L12 13l3.5 3.5 1-1z"})),Se=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"})),ke=Object(r.createElement)(Q.SVG,{xmlns:"https://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M3 15h18v-2H3v2zm0 4h18v-2H3v2zm0-8h18V9H3v2zm0-6v2h18V5H3z"})),Ce=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7.8 16.5H5c-.3 0-.5-.2-.5-.5v-6.2h6.8v6.7zm0-8.3H4.5V5c0-.3.2-.5.5-.5h6.2v6.7zm8.3 7.8c0 .3-.2.5-.5.5h-6.2v-6.8h6.8V19zm0-7.8h-6.8V4.5H19c.3 0 .5.2.5.5v6.2z",fillRule:"evenodd",clipRule:"evenodd"})),Ne=n(18);function xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xe(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pe,De={date:Object(w.__)("Date"),template_name:Object(w.__)("Name"),modified:Object(w.__)("Last Modified")},Me=function(e){var t=e.isGrid,n=e.setGrid,a=e.isSearch,c=e.searchQuery,o=e.setSearchQuery,i=e.onSearch,s=e.sortingOrder,l=e.setSortingOrder,u=e.changeOrder;return Object(r.createElement)("div",{className:"filters"},Object(r.createElement)("div",{className:"header-form"},Object(r.createElement)("div",{className:"display-sorting"},Object(r.createElement)("div",{className:"sorting-label"},Object(w.__)("Sort by")),Object(r.createElement)("div",{className:"sorting-filter"},Object.keys(De).map((function(e){return Object(r.createElement)(_.Button,{key:e,className:y()({"is-selected":e===s.orderby,"is-asc":"ASC"===s.order}),onClick:function(){var t={order:"DESC",orderby:e};e===s.orderby&&"DESC"===s.order&&(t.order="ASC"),l(Te({},t)),u(Te({},t))}},De[e])})))),Object(r.createElement)("div",{className:"display-filters"},Object(r.createElement)("div",{className:"display-filters__search"},Object(r.createElement)("input",{placeholder:Object(w.__)("Search"),value:c,onChange:function(e){return o(e.target.value)},onKeyDown:function(e){e.keyCode===Ne.ENTER&&i()}}),a?Object(r.createElement)(_.Button,{label:Object(w.__)("Clear search query"),icon:we,onClick:function(){o(""),i("")}}):Object(r.createElement)(_.Button,{label:Object(w.__)("Search"),icon:Se,onClick:function(){return i()}})),Object(r.createElement)(_.Button,{label:Object(w.__)("List View"),icon:ke,onClick:function(){return n(!1)},isPressed:!t}),Object(r.createElement)(_.Button,{label:Object(w.__)("Grid View"),icon:Ce,onClick:function(){return n(!0)},isPressed:t}))))},Ie=function(e){var t=e.title,n=e.leftButtons,a=e.rightButtons,c=e.heading,o=e.previewUrl,i=Object(ee.stringifyUrl)({url:o,query:{tpcpreview:"yes"}}),s=t||Object(w.__)("Preview");return Object(r.createElement)("div",{className:"ob-preview single-templates"},Object(r.createElement)("div",{className:"preview"},Object(r.createElement)("iframe",{title:s,src:i,frameBorder:"0"}),Object(r.createElement)("div",{className:"loading"},Object(r.createElement)(_.Dashicon,{icon:"update",size:50}))),Object(r.createElement)("div",{className:"bottom-bar"},n&&Object(r.createElement)("div",{className:"navigator"},n),c&&Object(r.createElement)("h2",{className:"heading"},c),a&&Object(r.createElement)("div",{className:"actions"},a)))},Le={AElig:"Æ",AMP:"&",Aacute:"Á",Acirc:"Â",Agrave:"À",Aring:"Å",Atilde:"Ã",Auml:"Ä",COPY:"©",Ccedil:"Ç",ETH:"Ð",Eacute:"É",Ecirc:"Ê",Egrave:"È",Euml:"Ë",GT:">",Iacute:"Í",Icirc:"Î",Igrave:"Ì",Iuml:"Ï",LT:"<",Ntilde:"Ñ",Oacute:"Ó",Ocirc:"Ô",Ograve:"Ò",Oslash:"Ø",Otilde:"Õ",Ouml:"Ö",QUOT:'"',REG:"®",THORN:"Þ",Uacute:"Ú",Ucirc:"Û",Ugrave:"Ù",Uuml:"Ü",Yacute:"Ý",aacute:"á",acirc:"â",acute:"´",aelig:"æ",agrave:"à",amp:"&",aring:"å",atilde:"ã",auml:"ä",brvbar:"¦",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",ecirc:"ê",egrave:"è",eth:"ð",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",iacute:"í",icirc:"î",iexcl:"¡",igrave:"ì",iquest:"¿",iuml:"ï",laquo:"«",lt:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",oacute:"ó",ocirc:"ô",ograve:"ò",ordf:"ª",ordm:"º",oslash:"ø",otilde:"õ",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',raquo:"»",reg:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",times:"×",uacute:"ú",ucirc:"û",ugrave:"ù",uml:"¨",uuml:"ü",yacute:"ý",yen:"¥",yuml:"ÿ"},Ae={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};function Be(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=48&&t<=57}function Re(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=102||t>=65&&t<=70||t>=48&&t<=57}function Fe(e){return function(e){var t="string"==typeof e?e.charCodeAt(0):e;return t>=97&&t<=122||t>=65&&t<=90}(e)||Be(e)}function ze(e){var t,n="&"+e+";";return(Pe=Pe||document.createElement("i")).innerHTML=n,(59!==(t=Pe.textContent).charCodeAt(t.length-1)||"semi"===e)&&t!==n&&t}var Ue={}.hasOwnProperty,Ve=String.fromCharCode,He=[void 0,"Named character references must be terminated by a semicolon","Numeric character references must be terminated by a semicolon","Named character references cannot be empty","Numeric character references cannot be empty","Named character references must be known","Numeric character references cannot be disallowed","Numeric character references cannot be outside the permissible Unicode range"];function $e(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||65535==(65535&e)||65534==(65535&e)}function Ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function We(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var qe=Object(E.compose)(Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getThemeAction;return{siteData:(0,t.getCurrentSite)(),themeData:n()||!1}})),Object(v.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setTemplateModal,r=t.setImportModalStatus;return{cancel:function(){n(null)},setModal:function(e){return r(e)}}})))((function(e){var t=e.templatesData,n=e.cancel,a=e.siteData,c=e.themeData,o=e.setModal,i=e.isUserTemplate,s=void 0!==i&&i,l=e.generalTemplates,u=void 0!==l&&l,m=Object(r.useState)(!0),p=O()(m,2),d=p[0],b=p[1],f=Object(r.useState)([]),h=O()(f,2),g=h[0],v=h[1],j=Object(r.useState)(!1),E=O()(j,2),S=E[0],k=E[1],C=Object(r.useState)([]),N=O()(C,2),x=N[0],T=N[1],P=Object(r.useState)(!1),D=O()(P,2),M=D[0],I=D[1],L=1===t.length;console.log(c),console.log(s),console.log(u),Object(r.useEffect)((function(){s&&L?be(t[0].template_id).then((function(e){e.success||(e.message?I(e.message):I(!0),b(!1)),v(e.templates),b(!1)})):de(t.map((function(e){return e.template_id}))).then((function(e){if(!e.success)return e.message?I(e.message):I(!0),b(!1),!1;v(e.templates),b(!1)}))}),[t]);var A=function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"modal-body"},Object(r.createElement)("div",{className:"header"},Object(r.createElement)("h1",{className:"is-loading",style:{height:30,marginBottom:30,width:"70%"}}),Object(r.createElement)("p",{className:"description is-loading"}),Object(r.createElement)("p",{className:"description is-loading"}),Object(r.createElement)("p",{className:"description is-loading",style:{width:"40%"}}))),Object(r.createElement)("div",{className:"modal-footer",style:{marginTop:50}},Object(r.createElement)("span",{className:"is-loading link"}),Object(r.createElement)("span",{className:"is-loading button",style:{width:"150px",marginLeft:"auto"}})))},B=function(e){e.preventDefault(),o(!0)},U=function(){k(!0);var e=t.map((function(e,t){return We(We({},e),g[t])})),n=function(){try{R(e).then((function(e){if(!e.success)return console.log(e.message),!1;T(e.pages),k("done")}))}catch(e){console.log(e)}};if(!c||"general"===e[0].template_site_slug&&"yes"===e[0].premade)return n(),!1;var r=function(e){console.error(e)};return s?(n(),!1):"install"===c.action?(F("neve",(function(){z(c,n,r)}),r),!1):void z(c,n,r)},V=function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"modal-body"},Object(r.createElement)("div",{className:"header"},Object(r.createElement)("h1",null,Object(w.__)("An error occurred!","templates-patterns-collection")),Object(r.createElement)("p",{className:"description"},!0===M?Object(w.__)("Please refresh the page and try again."):M))),Object(r.createElement)("div",{className:"modal-footer"},Object(r.createElement)(_.Button,{isPrimary:!0,className:"import",onClick:function(){I(!1),n()}},Object(w.__)("Close"))))};return Object(r.createElement)(_.Modal,{className:y()(["ob-import-modal",{fetching:d}]),onRequestClose:n,shouldCloseOnClickOutside:!(S&&"done"!==S||d),isDismissible:!(S&&"done"!==S||d)},"done"===S?Object(r.createElement)((function(){return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"modal-body"},Object(r.createElement)("div",{className:"header"},Object(r.createElement)("h1",null,Object(w.__)("Import done!","templates-patterns-collection")),Object(r.createElement)("p",{className:"description"},L?Object(w.__)("Template was successfully imported!","templates-patterns-collection"):Object(w.__)("Templates were successfully imported!","templates-patterns-collection"))),x&&Object(r.createElement)("ul",{className:"modal-toggles"},x.map((function(e,t){return Object(r.createElement)("li",{className:"option-row",key:t},Object(r.createElement)(_.Icon,{icon:ve,className:"active"}),Object(r.createElement)("span",null,function(e,t={}){var n,r,a,c,o,i,s,l,u,m,p,d,b,f,h,g,O,v,j,y,E,_,w,S,k="string"==typeof t.additional?t.additional.charCodeAt(0):t.additional,C=0,N=-1,x="",T=[];t.position&&("start"in t.position||"indent"in t.position?(r=t.position.indent,n=t.position.start):n=t.position),a=n&&n.line||1,c=n&&n.column||1,y=P(),C--;for(;++C<=e.length;)if(10===u&&(c=r&&r[N]||1),38===(u=e.charCodeAt(C))){if(9===(d=e.charCodeAt(C+1))||10===d||12===d||32===d||38===d||60===d||Number.isNaN(d)||k&&d===k){x+=Ve(u),c++;continue}for(g=O=C+1,w=O,35===d?(w=++g,88===(d=e.charCodeAt(w))||120===d?(v="hexadecimal",w=++g):v="decimal"):v="named",o="",h="",l="",j="named"===v?Fe:"decimal"===v?Be:Re,w--;++w<=e.length&&j(d=e.charCodeAt(w));)l+=Ve(d),"named"===v&&Ue.call(Le,l)&&(o=l,h=Le[l]);(s=59===e.charCodeAt(w))&&(w++,(i="named"===v&&ze(l))&&(o=l,h=i)),_=1+w-O,(s||!1!==t.nonTerminated)&&(l?"named"===v?(s&&!h?D(5,1):(o!==l&&(_=1+(w=g+o.length)-g,s=!1),s||(b=o?1:3,t.attribute?61===(d=e.charCodeAt(w))?(D(b,_),h=null):Fe(d)?h=null:D(b,_):D(b,_))),m=h):(s||D(2,_),(S=p=Number.parseInt(l,"hexadecimal"===v?16:10))>=55296&&S<=57343||S>1114111?(D(7,_),m=Ve(65533)):p in Ae?(D(6,_),m=Ae[p]):(f="",$e(p)&&D(6,_),p>65535&&(f+=Ve((p-=65536)>>>10|55296),p=56320|1023&p),m=f+Ve(p))):"named"!==v&&D(4,_)),m?(M(),y=P(),C=w-1,c+=w-O+1,T.push(m),(E=P()).offset++,t.reference&&t.reference.call(t.referenceContext,m,{start:y,end:E},e.slice(O-1,w)),y=E):(l=e.slice(O-1,w),x+=l,c+=l.length,C=w-1)}else 10===u&&(a++,N++,c=0),Number.isNaN(u)?M():(x+=Ve(u),c++);return T.join("");function P(){return{line:a,column:c,offset:C+(n&&n.offset||0)}}function D(e,n){var r;t.warning&&((r=P()).column+=n,r.offset+=n,t.warning.call(t.warningContext,He[e],r,e))}function M(){x&&(T.push(x),t.text&&t.text.call(t.textContext,x,{start:y,end:P()}),x="")}}(e.title)),Object(r.createElement)("div",{className:"actions"},Object(r.createElement)(_.Button,{isTertiary:!0,href:e.url},Object(w.__)("Visit","templates-patterns-collection")),Object(r.createElement)(_.Button,{isTertiary:!0,href:e.edit},Object(w.__)("Edit","templates-patterns-collection"))))})))),Object(r.createElement)("div",{className:"modal-footer"},Object(r.createElement)(_.Button,{isPrimary:!0,className:"import",onClick:n},Object(w.__)("Close"))))}),null):Object(r.createElement)((function(){return d?Object(r.createElement)(A,null):M?Object(r.createElement)(V,null):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"modal-body"},Object(r.createElement)("div",{className:"header"},Object(r.createElement)("h1",null,Object(w.sprintf)(L?
/* translators: name of starter site */
Object(w.__)("Import the %s template","templates-patterns-collection"):
/* translators: name of template */
Object(w.__)("Import all templates from %s","templates-patterns-collection"),L?t[0].template_name:a.title)),Object(r.createElement)("p",{className:"description"},(Object(r.createElement)("strong",null,Object(w.__)("does not")),L?Object(w.sprintf)(
/* translators: %s  the name of the template */
Object(w.__)("The %s template will be imported as a page into your site. This import will install & activate the page builder plugin if not already installed.","templates-patterns-collection"),t[0].template_name):Object(w.__)("All the templates that are included in this starter site, will be imported as pages. This import will install & activate the page builder plugin if not already installed.","templates-patterns-collection"))))),Object(r.createElement)("div",{className:"modal-footer"},!u&&Object(r.createElement)(_.Button,{className:"import-templates",isLink:!0,disabled:S,onClick:B},Object(w.__)("I want to import the entire site","templates-patterns-collection")),Object(r.createElement)(_.Button,{isPrimary:!0,className:"import",disabled:S,onClick:U},S?Object(w.__)("Importing")+"...":L?Object(w.__)("Import"):Object(w.__)("Import All Pages"))))}),null))})),Qe=function(){return Object(r.createElement)(Q.SVG,{width:"100",height:"100",viewBox:"0 0 100 100",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ob-logo"},Object(r.createElement)(Q.Path,{d:"M95.0264 100H4.97356C2.22797 100 0 97.772 0 95.0264V4.97356C0 2.22797 2.22797 0 4.97356 0H95.0264C97.772 0 100 2.22797 100 4.97356V95.0264C100 97.772 97.772 100 95.0264 100Z",fill:"#0366D6"}),Object(r.createElement)(Q.Path,{d:"M82.6941 86.7448V30.8205V18.4653H70.3502H14.4146L26.7584 30.8205H70.3502V74.401L82.6941 86.7448Z",fill:"white"}),Object(r.createElement)(Q.Path,{d:"M42.2416 58.9291L42.2528 71.183L53.2352 82.1653L53.1902 47.9806L18.9941 47.9355L29.9765 58.9066L42.2416 58.9291Z",fill:"white"}))},Ye=Object(r.createContext)({isLicenseOpen:!1,setLicenseOpen:function(){}});function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ke(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ze=Object(E.compose)(Object(v.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setInstallModalStatus,r=t.setTemplateModal,a=t.setPreviewStatus;return{setPreview:function(e){return a(e)},setInstallModal:function(e){return n(e)},setTemplateModal:r}})),Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getTemplateModal,r=t.getThemeAction,a=t.getCurrentEditor,c=t.getCurrentTab,o=t.getUserStatus;return{templateModal:n(),themeData:r()||!1,editor:a(),currentTab:c(),userStatus:o()}})))((function(e){var t=e.isGeneral,n=e.setPreview,a=e.setTemplateModal,o=e.templateModal,i=e.currentTab,s=e.userStatus,l=e.themeData,u=Object(r.useState)({gutenberg:[],elementor:[]}),m=O()(u,2),p=m[0],d=m[1],b=Object(r.useState)("gutenberg"),f=O()(b,2),h=f[0],g=f[1],v=Object(r.useState)([]),j=O()(v,2),E=j[0],S=j[1],C=Object(r.useState)(t),x=O()(C,2),T=x[0],P=x[1],D=Object(r.useState)(""),M=O()(D,2),I=M[0],L=M[1],A=Object(r.useState)({gutenberg:0,elementor:0,beaver:0}),B=O()(A,2),R=B[0],F=B[1],z=Object(r.useState)({gutenberg:0,elementor:0,beaver:0}),U=O()(z,2),V=U[0],H=U[1],$=Object(r.useState)(!1),W=O()($,2),Q=W[0],Z=W[1],X=Object(r.useState)(!1),ee=O()(X,2),te=ee[0],ne=ee[1],re=Object(r.useState)(!1),ae=O()(re,2),ce=ae[0],oe=ae[1],ie=Object(r.useState)(""),se=O()(ie,2),le=se[0],me=se[1],pe=Object(r.useState)({templates:{order:"DESC",orderby:"date"},library:{order:"DESC",orderby:"date"}}),de=O()(pe,2),be=de[0],fe=de[1];Object(r.useEffect)((function(){Z(!0),L(""),F({gutenberg:0,elementor:0,beaver:0}),H({gutenberg:0,elementor:0,beaver:0}),ge()}),[t,h]);var he={gutenberg:{label:Object(w.__)("Gutenberg"),icon:"gutenberg.jpg"},elementor:{label:Object(w.__)("Elementor"),icon:"elementor.jpg"},beaver:{label:Object(w.__)("Beaver"),icon:"beaver.jpg"}},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ke({page:R[h],per_page:12,type:h},e);t&&(n.template_site_slug="general",n.premade=!0),I&&(n.search=I),ue(t,n).then((function(e){d(Ke(Ke({},p),{},c()({},h,e.templates))),H(Ke(Ke({},V),{},c()({},h,e.total))),Z(!1)}))},Oe=function(){var e=N()(k.a.mark((function e(){var n,r,a=arguments;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>0&&void 0!==a[0]?a[0]:R[h]+1,oe(!0),F(Ke(Ke({},R),{},c()({},h,n))),r={page:n,per_page:12,type:h},t&&(r.template_site_slug="general",r.premade=!0),I&&(r.search=I),e.next=8,ue(t,r).then((function(e){d(Ke(Ke({},p),{},c()({},h,[].concat(G()(p[h]),G()(e.templates))))),H(Ke(Ke({},V),{},c()({},h,e.total)))}));case 8:oe(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(e){me(e),n(!0)},je=function(e){S([e]),a(!0)},ye=p[h]&&p[h].findIndex((function(e){return e.link===le})),we=p[h]&&p[h].find((function(e){return le===e.link})),Se=y()("cloud-items",{"is-grid":T||!s&&!t,"is-dummy":!s&&!t||!1!==l}),ke=function(){return t?be.templates:be.library},Ce=function(){var e=N()(k.a.mark((function e(n){var r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(!0),r=Ke({search:I,type:h},n),t&&(r.template_site_slug="general",r.premade=!0),ue(t,r).then((function(e){d(Ke(Ke({},p),{},c()({},h,G()(e.templates)))),H(Ke(Ke({},V),{},c()({},h,e.total))),Z(!1)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=window.tiobDash.upgradeURLTpc;return s||t?Object(r.createElement)("div",{className:Se},Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"editor-tabs"},Object.keys(he).map((function(e){return Object(r.createElement)("a",{key:e,href:"#",onClick:function(){g(e),ne(!1)},className:y()("tab",{active:h===e})},Object(r.createElement)("span",{className:"icon-wrap"},Object(r.createElement)("img",{className:"editor-icon",src:window.tiobDash.assets+"img/"+he[e].icon,alt:he[e].label})),Object(r.createElement)("span",{className:"editor"},he[e].label))}))),Object(r.createElement)(Me,{currentTab:i,isGrid:T,setGrid:P,isSearch:te,searchQuery:I,setSearchQuery:L,onSearch:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I;Z(!0),ne(!!e);var n=Ke({search:e,type:h},ke());t&&(n.template_site_slug="general",n.premade=!0),ue(t,n).then((function(e){d(Ke(Ke({},p),{},c()({},h,G()(e.templates)))),H(Ke(Ke({},V),{},c()({},h,e.total))),Z(!1)}))},sortingOrder:ke(),setSortingOrder:function(e){return fe(Ke(Ke({},be),{},t?{templates:e}:{library:e}))},changeOrder:Ce}),Q&&Object(r.createElement)(_e,{isGrid:T}),!Q&&(p[h]&&p[h].length>0?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"table"},p[h].map((function(e){return Object(r.createElement)(Ee,{sortingOrder:ke(),onPreview:ve,userTemplate:!t,key:e.template_id,item:e,loadTemplates:ge,onImport:function(){return je(e)},grid:T})}))),Object(r.createElement)(q.a,{onChange:function(e){if(!e)return!1;Number(V[h])>R[h]&&Oe()}},Object(r.createElement)("span",{style:{height:10,width:10,display:"block"}})),ce&&Object(r.createElement)("div",{className:"fetching-loader"},Object(r.createElement)(_.Spinner,null))):Object(r.createElement)("div",{className:"empty-information"},Object(r.createElement)("img",{src:window.tiobDash.assets+"/img/layout.jpg",alt:Object(w.__)("No Templates Found")}),Object(r.createElement)("h3",null,Object(w.__)("There are no templates yet")),Object(r.createElement)("p",null,Object(w.__)("You can add a page or post to the cloud by accessing it with the WordPress or Elementor/Beaver editor. Learn more about this in our docs.")),Object(r.createElement)(_.Button,{variant:"secondary",isSecondary:!0,href:"https://docs.themeisle.com/article/1354-neve-template-cloud-library?utm_medium=nevedashboard&utm_source=wpadmin&utm_campaign=templatescloud&utm_content=neve",target:"_blank"},Object(w.__)("Learn more")))),le&&Object(r.createElement)(Ie,{previewUrl:le,rightButtons:Object(r.createElement)(_.Button,{isPrimary:!0,onClick:function(){return je(we)}},Object(w.__)("Import Template")),heading:we.template_name,leftButtons:Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Button,{icon:Y,onClick:function(){me(""),n(!1)}}),p[h].length>1&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Button,{icon:Object(w.isRTL)()?J:K,onClick:function(){var e=ye-1;0===ye&&(e=p[h].length-1),me(p[h][e].link)}}),Object(r.createElement)(_.Button,{icon:Object(w.isRTL)()?K:J,onClick:function(){var e=ye+1;ye===p[h].length-1&&(e=0),me(p[h][e].link)}})))})),o&&E&&!Q&&E.length>0&&Object(r.createElement)(qe,{generalTemplates:!0,isUserTemplate:!t,templatesData:E})):Object(r.createElement)((function(e){var t=e.title,n=e.description,a=e.showUpgradeBtn,c=void 0===a||a,o=e.showLicenseToggle,i=void 0===o||o,s=Object(r.useContext)(Ye).setLicenseOpen;return Object(r.createElement)("div",{className:Se},Object(r.createElement)("div",{className:"table"},G()(Array(12)).map((function(e,t){return Object(r.createElement)(Ee,{sortingOrder:ke(),onPreview:ve,userTemplate:!1,key:t,item:{},grid:!0})}))),Object(r.createElement)("div",{className:"upsell-modal-overlay"},Object(r.createElement)("div",{className:"upsell-modal"},Object(r.createElement)("div",{className:"upsell-modal-content"},Object(r.createElement)("div",{className:"info"},Object(r.createElement)("h3",null,t),Object(r.createElement)("p",{dangerouslySetInnerHTML:{__html:n}}),c&&Object(r.createElement)(_.Button,{variant:"primary",isPrimary:!0,href:Ne,target:"_blank"},Object(w.__)("Upgrade to PRO")),i&&Object(r.createElement)(_.Button,{isLink:!0,style:{marginLeft:"12px"},onClick:function(){s(!0)}},Object(w.__)("I already have a key","template-patterns-collection"))),Object(r.createElement)("div",{className:"icon"},Object(r.createElement)(_.Icon,{icon:Qe}))))))}),{title:Object(w.__)("Templates Cloud is a PRO Feature"),description:Object(w.__)("Unlock the Templates Cloud features and save your pages or posts in the cloud.","template-patterns-collection")})})),Xe=[Object(w.__)("Business","templates-patterns-collection"),Object(w.__)("Ecommerce","templates-patterns-collection"),Object(w.__)("Fashion","templates-patterns-collection"),Object(w.__)("Blogging","templates-patterns-collection"),Object(w.__)("Photography","templates-patterns-collection")],et={all:Object(w.__)("All Categories"),free:Object(w.__)("Free"),business:Object(w.__)("Business"),portfolio:Object(w.__)("Portfolio"),woocommerce:Object(w.__)("WooCommerce"),blog:Object(w.__)("Blog"),personal:Object(w.__)("Personal"),other:Object(w.__)("Other")},tt={gutenberg:{icon:"gutenberg.jpg",niceName:"Gutenberg"},elementor:{icon:"elementor.jpg",niceName:"Elementor"}},nt=(Object(r.createElement)(r.Fragment,null,"Beaver ",Object(r.createElement)("span",{className:"long-name"},"Builder")),Object(r.createElement)(r.Fragment,null,"Thrive ",Object(r.createElement)("span",{className:"long-name"},"Architect")),function(e){var t=e.currentStep,n=e.progress,a=e.willDo,c={cleanup:{label:Object(w.__)("Cleanup previous Import","templates-patterns-collection"),status:n.cleanup,willDo:a.cleanup},theme_install:{label:Object(w.__)("Installing and Activating the Theme","templates-patterns-collection"),status:n.theme_install,willDo:a.theme_install},plugins:{label:Object(w.__)("Installing Plugins","templates-patterns-collection"),status:n.plugins,willDo:!0},content:{label:Object(w.__)("Importing Content","templates-patterns-collection"),status:n.content,willDo:a.content},customizer:{label:Object(w.__)("Importing Customizer Settings","templates-patterns-collection"),status:n.customizer,willDo:a.customizer},widgets:{label:Object(w.__)("Importing Widgets","templates-patterns-collection"),status:n.widgets,willDo:a.widgets},performanceAddon:{label:Object(w.__)("Installing Performance Features","templates-patterns-collection"),status:n.performanceAddon,willDo:a.performanceAddon}};return Object(r.createElement)("ul",{className:"stepper"},Object.keys(c).map((function(e,n){var a=c[e],o=a.label,i=a.status;if(!a.willDo)return null;var s=y()(["icon",{loading:t===e,warning:t===e,success:"done"===i,error:"error"===i,skip:"skip"===i}]),l="clock";return t===e&&(l="update"),"done"===i&&(l="yes"),"error"===i&&(l="no-alt"),Object(r.createElement)("li",{key:n},Object(r.createElement)("span",{className:s},Object(r.createElement)(_.Dashicon,{icon:l,className:t===e?"loading":""})),Object(r.createElement)("span",null,o))})))}),rt=n(19),at=n.n(rt),ct=function(e){return at()(e),Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"modal-body"},Object(r.createElement)("div",{className:"header"},Object(r.createElement)("span",{className:"title is-loading",style:{height:35,marginBottom:20}}),Object(r.createElement)("p",{className:"description is-loading",style:{height:20}}),Object(r.createElement)("p",{className:"description is-loading",style:{height:20,marginBottom:20}})),Object(r.createElement)("div",{className:"well is-loading"},Object(r.createElement)("span",{className:"title is-loading",style:{height:20}}),Object(r.createElement)("ol",null,Object(r.createElement)("li",null),Object(r.createElement)("li",null),Object(r.createElement)("li",null))),Object(r.createElement)("div",{className:"modal-toggles components-panel"},[1,2].map((function(e){return Object(r.createElement)("div",{key:e,className:"components-panel__body options general is-opened"},Object(r.createElement)("span",{className:"title is-loading"}),Object(r.createElement)("ul",null,[1,2,3].map((function(e){return Object(r.createElement)("li",{className:"option-row",key:e},Object(r.createElement)("div",{className:"mock-icon is-loading"}),Object(r.createElement)("span",{className:"is-loading"}),Object(r.createElement)("div",{className:"toggle is-loading"}))}))))})))),Object(r.createElement)("div",{className:"modal-footer"},Object(r.createElement)("span",{className:"link is-loading"}),Object(r.createElement)(_.Button,{isPrimary:!0,className:"import is-loading"})))};function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function it(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var st=function(e){var t=e.icon,n=e.size,a=void 0===n?24:n,c=function(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(e,["icon","size"]);return Object(r.cloneElement)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?it(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):it(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({width:a,height:a},c))},lt=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(r.createElement)(Q.Path,{d:"M12 3.2c-4.8 0-8.8 3.9-8.8 8.8 0 4.8 3.9 8.8 8.8 8.8 4.8 0 8.8-3.9 8.8-8.8 0-4.8-4-8.8-8.8-8.8zm0 16c-4 0-7.2-3.3-7.2-7.2C4.8 8 8 4.8 12 4.8s7.2 3.3 7.2 7.2c0 4-3.2 7.2-7.2 7.2zM11 17h2v-6h-2v6zm0-8h2V7h-2v2z"})),ut=function(e){var t=e.children,n=e.className,a=e.toLeft,c=void 0!==a&&a,o=y()([n,"tiob-tooltip-wrap"]),i=c?{right:0,left:"unset"}:{};return Object(r.createElement)("div",{className:o},Object(r.createElement)("div",{className:"tiob-tooltip-toggle"},Object(r.createElement)(st,{icon:lt,size:24}),Object(r.createElement)("div",{className:"tiob-tooltip-content",style:i},t)))};function mt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mt(Object(n),!0).forEach((function(t){c()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var dt=Object(E.compose)(Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentEditor,r=t.getCurrentSite,a=t.getThemeAction;return{editor:n(),siteData:r(),themeData:a()||!1}})),Object(v.withDispatch)((function(e,t){var n=t.siteData,r=e("neve-onboarding"),a=r.setTemplateModal,c=r.setSingleTemplateImport,o=r.setImportModalStatus,i=r.setThemeAction;return{setModal:function(e){return o(e)},setThemeAction:function(e){return i(e)},runTemplateImport:function(){c(n.slug),a(!0),o(!1)}}})))((function(e){var t,n,a=e.setModal,o=e.setThemeAction,i=e.editor,s=e.siteData,l=e.themeData,u=e.runTemplateImport,m=Object(r.useState)({content:!0,customizer:!0,widgets:!0,cleanup:!1,performanceAddon:!0,theme_install:!1!==l}),p=O()(m,2),d=p[0],b=p[1],f=tiobDash.onboarding.homeUrl||"",h=Object(r.useState)(!1),g=O()(h,2),v=g[0],j=g[1],E=Object(r.useState)(!1),S=O()(E,2),k=S[0],C=S[1],N=Object(r.useState)(!1),P=O()(N,2),M=P[0],I=P[1],L=Object(r.useState)(!1),R=O()(L,2),H=R[0],$=R[1],G=Object(r.useState)(!1),W=O()(G,2),q=W[0],Q=W[1],Y=Object(r.useState)(!1),J=O()(Y,2),K=J[0],Z=J[1],X=Object(r.useState)(!1),ee=O()(X,2),te=ee[0],ne=ee[1],re=Object(r.useState)(null),ae=O()(re,2),ce=ae[0],oe=ae[1],ie=Object(r.useState)(null),se=O()(ie,2),le=se[0],ue=se[1],me=Object(r.useState)(!1),pe=O()(me,2),de=pe[0],be=pe[1],fe=Object(r.useState)({}),he=O()(fe,2),ge=he[0],Oe=he[1],ve=Object(r.useState)(null),je=O()(ve,2),ye=je[0],Ee=je[1],_e=Object(r.useState)(null),we=O()(_e,2),Se=we[0],ke=we[1],Ce=Object(r.useState)(!0),Ne=O()(Ce,2),xe=Ne[0],Te=Ne[1],Pe=Object(r.useState)(!0),De=O()(Pe,2),Me=De[0],Ie=De[1],Le=Object(r.useState)(!0),Ae=O()(Le,2),Be=Ae[0],Re=Ae[1],Fe=tiobDash,ze=Fe.license,Ue=Fe.cleanupAllowed,Ve=Object(r.useState)(Ue),He=O()(Ve,2),$e=He[0],Ge=He[1],We=Object(r.useState)(tiobDash.emailSubscribe.email||""),qe=O()(We,2),Qe=qe[0],Ye=qe[1],Je=Object(r.useState)("yes"===(null===(t=tiobDash)||void 0===t||null===(n=t.emailSubscribe)||void 0===n?void 0:n.skipStatus)),Ke=O()(Je,2),Ze=Ke[0],Xe=Ke[1],et=Object(r.useState)(!1),tt=O()(et,2),rt=tt[0],at=tt[1];function ot(){z(l,(function(){console.log("[D] Theme Activate."),j("done"),o(!1),st()}),(function(){ht(Object(w.__)("Could not activate theme.","templates-patterns-collection"),"theme_install")}))}function it(){return l?"install"===l.action?(ue("theme_install"),console.log("[P] Theme Install."),F("neve",(function(){o(pt(pt({},l),{},{action:"activate"})),console.log("[D] Theme Install."),ot()}),(function(e){o(pt(pt({},l),{},{action:"activate"})),ht(e.errorMessage||Object(w.__)("Could not install theme.","templates-patterns-collection"),"theme_install")})),!1):(ue("theme_install"),console.log("[P] Theme Activate."),void ot()):(console.log("[S] Theme."),st(),!1)}function st(){if(!ge&&!d.performanceAddon)return console.log("[S] Plugins."),lt(),!1;ue("plugins"),console.log("[P] Plugins."),B(ge).then((function(e){if(!e.success)return ht(e,"plugins"),!1;console.log("[D] Plugins."),$("done"),lt()})).catch((function(e){return ht(e,"plugins")}))}function lt(){if(!d.content)return console.log("[S] Content."),mt(),!1;var e;ue("content"),console.log("[P] Content."),(e={contentFile:Se.content_file,source:"remote",frontPage:Se.front_page,shopPages:Se.shop_pages,demoSlug:Se.slug,editor:i},x(A.root+"/import_content",e)).then((function(e){if(!e.success)return ht(e,"content"),!1;console.log("[D] Content."),e.frontpage_id&&oe(e.frontpage_id),Q("done"),mt()})).catch((function(e){return ht(e,"content")}))}function mt(){if(!d.customizer)return console.log("[S] Customizer."),dt(),!1;var e;ue("customizer"),console.log("[P] Customizer."),(e={source_url:Se.url,theme_mods:Se.theme_mods,wp_options:Se.wp_options},x(A.root+"/import_theme_mods",e)).then((function(e){if(!e.success)return ht(e,"customizer"),!1;console.log("[D] Customizer."),Z("done"),dt()})).catch((function(e){return ht(e,"customizer")}))}function dt(){if(!d.widgets)return console.log("[S] Widgets."),bt(),!1;var e;ue("widgets"),console.log("[P] Widgets."),(e=Se.widgets,x(A.root+"/import_widgets",e)).then((function(e){if(!e.success)return ht(e,"widgets"),!1;console.log("[D] Widgets."),ne("done"),bt()})).catch((function(e){return ht(e,"widgets")}))}function bt(){if(!d.performanceAddon)return console.log("[S] Performance Addon."),ft(),!1;ue("performanceAddon"),console.log("[P] Performance Addon."),B({"optimole-wp":!0}).then((function(e){if(!e.success)return ht(e,"performanceAddon"),!1;console.log("[D] Performance Addon."),C("done"),ft()})).catch((function(e){return ht(e,"performanceAddon")}))}function ft(){ue("done"),Ge("yes"),tiobDash.cleanupAllowed="yes",be(!1)}function ht(e,t){be(!1),ue(null),"cleanup"===t&&$("skip"),"plugins"===t&&Q("skip"),["content","plugins"].includes(t)&&Z("skip"),["content","plugins","customizer"].includes(t)&&ne("skip");var n={cleanup:Object(w.__)("Something went wrong while cleaning the previous import.","templates-patterns-collection"),plugins:Object(w.__)("Something went wrong while installing the necessary plugins.","templates-patterns-collection"),content:Object(w.__)("Something went wrong while importing the website content.","templates-patterns-collection"),customizer:Object(w.__)("Something went wrong while updating the customizer settings.","templates-patterns-collection"),widgets:Object(w.__)("Something went wrong while importing the widgets.","templates-patterns-collection"),performanceAddon:Object(w.__)("Something went wrong while installing the performance addon.","templates-patterns-collection")};switch(t){case"cleanup":I("error");break;case"plugins":$("error");break;case"content":Q("error");break;case"customizer":Z("error");break;case"widgets":ne("error");break;case"performanceAddon":C("error")}Ee(e.data?{message:n[t],code:e.data}:{message:n[t]})}Object(r.useEffect)((function(){var e=s.remote_url||s.url,t=new URL("".concat(function(e){return e.replace(/\/$/,"")}(e)+"/","wp-json/ti-demo-data/data"));t.searchParams.append("license",ze?ze.key:"free"),T(t,!0,!1).then((function(e){e.ok||(Ee({message:Object(w.__)("Something went wrong while loading the site data. Please refresh the page and try again.","templates-patterns-collection"),code:"ti__ob_failed_fetch_response"}),Te(!1)),e.json().then((function(e){ke(pt(pt({},e),s));var t=pt({},e.mandatory_plugins||{}),n=pt({},e.recommended_plugins||{}),r=e.default_off_recommended_plugins||[];Object.keys(t).forEach((function(e){t[e]=!0})),Object.keys(n).forEach((function(e){n[e]=!r.includes(e)})),Oe(pt(pt({},n),t)),Te(!1)}))})).catch((function(){Ee({message:Object(w.__)("Something went wrong while loading the site data. Please refresh the page and try again.","templates-patterns-collection"),code:"ti__ob_failed_fetch_catch"}),Te(!1)}))}),[]);var gt=!s.external_plugins||s.external_plugins.every((function(e){return!0===e.active})),Ot=Object.keys(d).every((function(e){return!1===d[e]})),vt={elementor:"".concat(tiobDash.onboarding.homeUrl,"/wp-admin/post.php?post=").concat(ce,"&action=elementor"),brizy:"".concat(tiobDash.onboarding.homeUrl,"/?brizy-edit"),"beaver builder":"".concat(tiobDash.onboarding.homeUrl,"/?fl_builder"),"thrive architect":"".concat(tiobDash.onboarding.homeUrl,"/wp-admin/post.php?post=").concat(ce,"&action=architect&tve=true"),"divi builder":"".concat(tiobDash.onboarding.homeUrl,"/?et_fb=1&PageSpeed=off"),gutenberg:"".concat(tiobDash.onboarding.homeUrl,"/wp-admin/post.php?post=").concat(ce,"&action=edit")}[i],jt=Object(w.__)("View Website & Subscribe","templates-patterns-collection"),yt=Object(w.__)("Skip and add your own content","templates-patterns-collection");Ze&&(jt=Object(w.__)("View Website","templates-patterns-collection"),yt=Object(w.__)("Add your own content","templates-patterns-collection"));var Et=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(tiobDash.emailSubscribe.ajaxURL,"skip_subscribe",tiobDash.emailSubscribe.nonce,t).then((function(){Xe(!0),at(!1),window.location.href=e}))},_t=Se?Object(w.sprintf)(
/* translators: name of starter site */
Object(w.__)("Import %s as a complete site","templates-patterns-collection"),Se.title):"";return"done"!==le||ye||(_t=Object(w.__)("Content was successfully imported","templates-patterns-collection")),Object(r.createElement)(_.Modal,{className:y()(["ob-import-modal",{fetching:xe}]),onRequestClose:function(){if(de)return!1;a(!1)},shouldCloseOnClickOutside:!de&&!xe,isDismissible:!de&&!xe,title:_t},xe?Object(r.createElement)(ct,null):Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"modal-body"},de||"done"===le||ye?Object(r.createElement)(r.Fragment,null,ye&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(V,{message:ye.message||null,code:ye.code||null}),Object(r.createElement)("hr",null)),null!==le&&Object(r.createElement)(nt,{progress:{theme_install:v,cleanup:M,plugins:H,content:q,customizer:K,widgets:te,performanceAddon:k},currentStep:le,willDo:d}),"done"===le&&!Ze&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("p",{className:"tpc-subscribe-email-text"},Object(w.__)("Stay up-to-date on news, tips and product updates","templates-patterns-collection")),Object(r.createElement)(_.TextControl,{"aria-label":Object(w.__)("Enter your email","templates-patterns-collection"),type:"email",value:Qe,onChange:Ye,className:"tpc-email-input"})),"done"===le&&Ze&&Object(r.createElement)("span",{style:{display:"block",marginBottom:"60px"}})):Object(r.createElement)(r.Fragment,null,Object(r.createElement)((function(){return Object(r.createElement)("div",{className:"header"},Object(r.createElement)("p",{className:"description"},Object(w.__)("Import the entire site including customizer options, pages, content and plugins.","templates-patterns-collection")))}),null),Object(r.createElement)((function(){return Object(r.createElement)(U,{data:Se,externalInstalled:gt})}),null),Object(r.createElement)(_.Panel,{className:"modal-toggles"},!1!==l&&Object(r.createElement)((function(){var e=y()("option-row","active"),t={icon:"admin-appearance",title:Object(w.__)("Neve","templates-patterns-collection"),tooltip:Object(w.__)("In order to import the starter site, Neve theme has to be installed and activated.","templates-patterns-collection")},n=t.icon,a=t.title,c=t.tooltip;return Object(r.createElement)(_.PanelBody,{onToggle:function(){Re(!Be)},opened:Be,className:"options general",title:Object(w.__)("Install required theme","templates-patterns-collection")},Object(r.createElement)(_.PanelRow,{className:e},Object(r.createElement)(_.Icon,{icon:n}),Object(r.createElement)("span",null,a),c&&Object(r.createElement)(ut,null,c)))}),null),Object(r.createElement)((function(){var e={content:{title:Object(w.__)("Content","templates-patterns-collection"),icon:"admin-post",tooltip:Object(w.__)("We recommend you backup your website content before attempting a full site import.","templates-patterns-collection")},customizer:{title:Object(w.__)("Customizer","templates-patterns-collection"),icon:"admin-customizer"},widgets:{title:Object(w.__)("Widgets","templates-patterns-collection"),icon:"admin-generic",tooltip:Object(w.__)("Widgets will be moved to the Inactive Widgets sidebar and can be retrieved from there.","templates-patterns-collection")},performanceAddon:{title:Object(w.__)("Enable performance features for my site","templates-patterns-collection"),icon:"dashboard",tooltip:Object(r.createInterpolateElement)(Object(w.__)(Object(w.sprintf)(// translators: %s is Optimole plugin name.
"Optimize and speed up your site with our trusted addon, <a><span>%s</span><icon/></a>. It’s free.","Optimole"),"templates-patterns-collection"),{a:Object(r.createElement)("a",{href:"https://wordpress.org/plugins/optimole-wp/",target:"_blank",style:{textDecoration:"none",display:"inline-flex",alignItems:"center"}}),icon:Object(r.createElement)(_.Icon,{size:10,icon:"external",style:{marginLeft:0}}),span:Object(r.createElement)("div",null)})}};return"yes"===$e&&(e=pt({cleanup:{icon:"trash",title:Object(w.__)("Cleanup previous import","templates-patterns-collection"),tooltip:Object(w.__)("This will remove any plugins, images, customizer options, widgets posts and pages added by the previous demo import","templates-patterns-collection")}},e)),Object(r.createElement)(_.PanelBody,{onToggle:function(){Ie(!Me)},opened:Me,className:"options general",title:Object(w.__)("Import settings","templates-patterns-collection")},Object.keys(e).map((function(t,n){var a=y()("option-row",{active:d[t]}),o=e[t],i=o.icon,s=o.title,l=o.tooltip;return Object(r.createElement)(_.PanelRow,{className:a,key:n},Object(r.createElement)(_.Icon,{icon:i}),Object(r.createElement)("span",null,s),l&&Object(r.createElement)(ut,{toLeft:"performanceAddon"===t},l),"theme_install"!==t&&Object(r.createElement)("div",{className:"toggle-wrapper"},Object(r.createElement)(_.ToggleControl,{checked:d[t],onChange:function(){b(pt(pt({},d),{},c()({},t,!d[t])))}})))})))}),null),Object(r.createElement)((function(){if(xe)return null;var e=pt(pt({},Se.recommended_plugins||{}),Se.mandatory_plugins||{});if(Object.keys(e).length<1)return null;var t=Object(r.useState)(Object.keys(e).length<3),n=O()(t,2),a=n[0],o=n[1],i=Object.keys(e).map((function(t,n){return e[t]})).join(", ");return Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.PanelBody,{onToggle:function(){o(!a)},opened:a,className:"options plugins",title:Object(w.__)("Plugins","templates-patterns-collection")},Object.keys(e).map((function(t,n){var a=y()("option-row",{active:ge[t]});return Object(r.createElement)(_.PanelRow,{className:a,key:n},Object(r.createElement)(_.Icon,{icon:"admin-plugins"}),Object(r.createElement)("span",{dangerouslySetInnerHTML:{__html:e[t]}}),t in Se.recommended_plugins&&Object(r.createElement)("div",{className:"toggle-wrapper"},Object(r.createElement)(_.ToggleControl,{checked:ge[t],onChange:function(){Oe(pt(pt({},ge),{},c()({},t,!ge[t])))}})))}))),!a&&Object(r.createElement)("i",{className:"plugin-summary"},Object(r.createElement)(ut,{toLeft:!1},Object(r.createElement)("span",{dangerouslySetInnerHTML:{__html:i}})),Object(w.__)("Additional plugins are required for this Starter Site in order to work properly. ","templates-patterns-collection")))}),null)))),!de&&Object(r.createElement)("div",{className:"modal-footer"},"done"!==le?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Button,{className:"import-templates",isLink:!0,onClick:u},Object(w.__)("I want to import just the templates","templates-patterns-collection")),!ye&&Object(r.createElement)(_.Button,{className:"import",isPrimary:!0,disabled:Ot||!gt,onClick:function(){be(!0),function(){if(console.clear(),!d.cleanup)return console.log("[S] Cleanup."),it(),!1;var e;ue("cleanup"),console.log("[P] Cleanup."),(e={},x(A.root+"/cleanup",e)).then((function(e){if(!e.success)return ht(e,"cleanup"),!1;console.log("[D] Cleanup."),I("done"),it()})).catch((function(e){return ht(e,"cleanup")}))}()}},Object(w.__)("Import entire site","templates-patterns-collection"))):Object(r.createElement)("div",{className:"import-done-actions"},Object(r.createElement)(_.Button,{isLink:!0,className:y()("close",{"is-grayed":!Ze}),disabled:rt,onClick:function(){Ze?window.location.href=vt:(at(!0),Et(vt,{isTempSkip:!0}))}},yt),Object(r.createElement)(_.Button,{isPrimary:!0,className:"import import-full-w",disabled:rt,onClick:function(){var e;Ze?window.location.href=f:(at(!0),""!==Qe.trim()?null===(e=fetch("https://api.themeisle.com/tracking/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({slug:"templates-patterns-collection",site:f,email:Qe})}).then((function(e){return e.json()})).then((function(e){"success"===e.code&&Et(f)})))||void 0===e||e.catch((function(e){console.error(e),Et(f,{isTempSkip:!0})})):Et(f,{isTempSkip:!0}))}},jt)))))})),bt=Object(E.compose)(Object(v.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setSingleTemplateImport,r=t.setImportModalStatus;return{cancel:function(){n(null)},setModal:function(e){return r(e)},setTemplateModal:t.setTemplateModal}})),Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getTemplateModal,r=t.getCurrentSite,a=t.getCurrentEditor;return{templateModal:n(),site:r(),editor:a()}})))((function(e){var t=e.slug,n=e.cancel,a=e.setModal,c=e.site,o=e.editor,i=e.setTemplateModal,s=e.templateModal,l=Object(r.useState)([]),u=O()(l,2),m=u[0],p=u[1],d=Object(r.useState)(!0),b=O()(d,2),f=b[0],h=b[1],g=Object(r.useState)(""),v=O()(g,2),j=v[0],y=v[1],E=Object(r.useState)([]),S=O()(E,2),k=S[0],C=S[1],N=c.title,x=c.upsell,T=c.utmOutboundLink;Object(r.useEffect)((function(){P()}),[]);var P=function(){ue(!0,{per_page:100,template_site_slug:t,premade:!0,type:o}).then((function(e){p(e.templates||[]),h(!1)}))},D=function(e){y(e)},M=function(e){C(e),i(!0)},I=function(e){M([e])},L=function(e){e.preventDefault(),a(!0)},A=m.findIndex((function(e){return e.link===j})),B=m.find((function(e){return e.link===j}));return Object(r.createElement)("div",{className:"single-templates-wrapper"},Object(r.createElement)("div",{className:"top"},Object(r.createElement)("div",{className:"breadcrumb"},Object(r.createElement)(_.Button,{isTertiary:!0,onClick:n},Object(r.createElement)(_.Icon,{icon:K}),Object(w.__)("Back to Starter Sites"))),Object(r.createElement)("div",{className:"header"},Object(r.createElement)("div",{className:"text"},Object(r.createElement)("h1",null,N||"",x&&Object(r.createElement)("span",{className:"pro-badge"},Object(r.createElement)(_.Icon,{icon:"lock"}),Object(r.createElement)("span",null,Object(w.__)("Premium","templates-patterns-collection")))),Object(r.createElement)("p",{className:"description"},Object(w.__)("You can import individual pages or bulk-import all of them."))),Object(r.createElement)("div",{className:"actions"},!x&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Button,{isSecondary:!0,onClick:L},Object(w.__)("Import Starter Site")),Object(r.createElement)(_.Button,{isPrimary:!0,disabled:m.length<1,onClick:function(e){e.preventDefault(),M(m)}},Object(w.__)("Import All Pages"))),x&&Object(r.createElement)(_.Button,{href:T||tiobDash.upgradeURL,isSecondary:!0},Object(w.__)("Upgrade"))))),Object(r.createElement)((function(){return f?Object(r.createElement)(_.Spinner,null):m.length<1?Object(w.__)("No templates for this starter site."):Object(r.createElement)("div",{className:"cloud-items is-grid"},Object(r.createElement)("div",{className:"table"},m.map((function(e){return Object(r.createElement)(Ee,{upsell:x,onPreview:D,userTemplate:!1,key:e.template_id,item:e,loadTemplates:P,onImport:function(){return I(e)},grid:!0})}))))}),null),j&&Object(r.createElement)(Ie,{heading:B.template_name||null,previewUrl:j,leftButtons:Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Button,{icon:Y,onClick:function(){return y("")},label:Object(w.__)("Close","templates-patterns-collection")}),m.length>1&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Button,{icon:Object(w.isRTL)()?J:K,onClick:function(){var e=A-1;0===A&&(e=m.length-1),y(m[e].link)}}),Object(r.createElement)(_.Button,{icon:Object(w.isRTL)()?K:J,onClick:function(){var e=A+1;A===m.length-1&&(e=0),y(m[e].link)}}))),rightButtons:Object(r.createElement)(r.Fragment,null,!x&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Button,{isSecondary:!0,onClick:L},Object(w.__)("Import Starter Site")),Object(r.createElement)(_.Button,{isPrimary:!0,disabled:m.length<1,onClick:function(){return I(B)}},Object(w.__)("Import Page"))),x&&Object(r.createElement)(_.Button,{href:T||tiobDash.upgradeURL,isSecondary:!0},Object(w.__)("Upgrade")))}),s&&k&&!f&&k.length>0&&Object(r.createElement)(qe,{templatesData:k}))})),ft=Object(r.createElement)(Q.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},Object(r.createElement)(Q.Path,{d:"M14.9 9c1.8.2 3.1 1.7 3.1 3.5 0 1.9-1.6 3.5-3.5 3.5h-10C2.6 16 1 14.4 1 12.5 1 10.7 2.3 9.3 4.1 9 4 8.9 4 8.7 4 8.5 4 7.1 5.1 6 6.5 6c.3 0 .7.1.9.2C8.1 4.9 9.4 4 11 4c2.2 0 4 1.8 4 4 0 .4-.1.7-.1 1z"})),ht=function(e){var t=e.title,n=e.description,a=e.children,c=e.cardHeader,o=e.cardBottom,i=e.classNames;return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:y()(["card",i])},Object(r.createElement)("div",{className:"card-header"},t&&Object(r.createElement)("h3",{className:"title"},t),c),Object(r.createElement)("div",{className:"card-content"},n&&Object(r.createElement)("p",{className:"card-description"},n),a),o&&Object(r.createElement)("div",{className:"card-bottom"},o)))},gt=n(20),Ot=Object(E.compose)(Object(v.withDispatch)((function(e){return{setLicense:e("neve-onboarding").setLicense}})),Object(v.withSelect)((function(e){return{license:(0,e("neve-onboarding").getLicense)()}})))((function(e){var t=e.setLicense,n=e.license,a=""!==(null==n?void 0:n.key)&&"free"!==(null==n?void 0:n.key)?null==n?void 0:n.key:"",o=Object(r.useState)(a),i=O()(o,2),s=i[0],l=i[1],u=Object(r.useState)(!1),m=O()(u,2),p=m[0],d=m[1],b=Object(r.useState)({}),f=O()(b,2),h=f[0],g=f[1],v="valid"===(null==n?void 0:n.valid)||"valid"===(null==n?void 0:n.license),j=function(e){var t="templates_patterns_collection_license",n=new gt.models.Settings(c()({},t,e));return new Promise((function(r){n.save().then((function(n){n&&!n[t]!==e||r({success:!1}),r({success:!0})}))}))},y=function(){var e=N()(k.a.mark((function e(n){var r,a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),"deactivate"!==n.action){e.next=8;break}return t({key:"free",valid:"invalid",expiration:"",tier:0}),l(""),e.next=6,j("");case 6:return d(!1),e.abrupt("return");case 8:return e.next=10,ue(!1,{license_id:n.key,license_check:1});case 10:if(r=e.sent,a=r.success,c=r.templates,!a){e.next=19;break}return t(c),e.next=17,j(n.key);case 17:e.next=20;break;case 19:o="error",i=Object(w.__)("Can not activate this license!","templates-patterns-collection"),g({type:o,message:i}),new Promise((function(e){return setTimeout(e,3e3)})).then((function(){return g({})}));case 20:d(!1);case 21:case"end":return e.stop()}var o,i}),e)})));return function(t){return e.apply(this,arguments)}}(),E=v?Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Icon,{size:32,className:"verified",icon:"yes-alt"})," ","Verified - Expires at"," ",new Date(n.expires).toDateString()):"",S=Object.keys(h).length>0?Object(r.createElement)(_.Notice,{isDismissible:!1,status:h.type},h.message):"";return Object(r.createElement)(ht,{classNames:"license",title:"Templates Collection "+Object(w.__)("License","templates-patterns-collection"),description:Object(r.createElement)(r.Fragment,null,Object(r.createElement)("span",null,"Enter your license from "),Object(r.createElement)(_.ExternalLink,{href:"https://store.themeisle.com/login/"},"Themeisle"),Object(r.createElement)("span",null," purchase history in order to get plugin updates")),children:Object(r.createElement)(r.Fragment,null,Object(r.createElement)("form",{onSubmit:function(e){y({action:v?"deactivate":"activate",key:s}),e.preventDefault()}},Object(r.createElement)(_.TextControl,{disabled:v,onChange:l,value:v?"******************************"+s.slice(-5):s}),Object(r.createElement)(_.Button,{className:"components-button is-primary",disabled:p,type:"submit",variant:"primary"},v?Object(w.__)("Deactivate","templates-patterns-collection"):Object(w.__)("Activate","templates-patterns-collection"))),Object(r.createElement)("div",{className:"info"},E),S)})})),vt=function(e){var t=e.setCurrentTab,n=e.currentTab,a=e.isFetching,c=e.license,o={starterSites:Object(w.__)("Starter Sites","templates-patterns-collection"),pageTemplates:Object(w.__)("Page Templates","templates-patterns-collection"),library:Object(w.__)("My Library","templates-patterns-collection")},i=Object(r.useState)(!1),s=O()(i,2),l=s[0],u=s[1],m=Object(r.useContext)(Ye),p=m.isLicenseOpen,d=m.setLicenseOpen,b="valid"===(null==c?void 0:c.valid)||"valid"===(null==c?void 0:c.license),f=function(){var e=function(e){var t=window.location.hash;return"string"!=typeof window.location.hash?null:(t=t.substring(1),Object.keys(e).includes(t)?t:null)}(o);if(null!==e){var n=document.getElementById("menu-appearance"),r=n.querySelector('a[href="themes.php?page=tiob-starter-sites#library"]'),a=n.querySelector('a[href="themes.php?page=tiob-starter-sites"]');if(r&&a){var c=r.parentElement,i=a.parentElement;n.querySelector(".current").classList.remove("current"),c.classList.remove("current"),"library"===e?c.classList.add("current"):i.classList.add("current")}t(e)}};return Object(r.useEffect)((function(){f(),window.addEventListener("hashchange",f)}),[]),Object(r.createElement)("div",{className:"header-nav"},Object.keys(o).map((function(e){return Object(r.createElement)(_.Button,{href:"#"+e,key:e,isTertiary:!0,isPressed:e===n,onClick:function(n){var r;n.preventDefault(),t(e),r=e,window.location.hash=r}},o[e])})),"starterSites"!==n&&Object(r.createElement)(_.Button,{icon:fe,onClick:function(){u(!0),localStorage.setItem("tpcCacheBuster",ie());var e=n;t(null),setTimeout((function(){t(e),u(!1)}),100)},label:Object(w.__)("Re-sync Library"),className:y()("is-icon-btn",{"is-loading":l}),disabled:a||l,"data-content":Object(w.__)("Sync")}),"starterSites"!==n&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)(_.Button,{icon:p?Y:ft,onClick:function(){d(!p)},label:Object(w.__)("License"),className:y()("is-icon-btn",{"is-not-valid":!p&&!b,"is-valid":!p&&b}),"data-content":Object(w.__)("License")}),p&&Object(r.createElement)(Ot,null)))},jt=Object(E.compose)(Object(v.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setOnboardingState;return{cancelOnboarding:function(){n(!1)},setCurrentTab:t.setCurrentTab,setFetching:t.setFetching}})),Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getOnboardingStatus,r=t.getCurrentTab,a=t.getFetching,c=t.getLicense;return{isOnboarding:n(),currentTab:r(),isFetching:a(),license:c()}})))((function(e){var t=e.isOnboarding,n=e.cancelOnboarding,a=e.setCurrentTab,c=e.currentTab,o=e.license;return Object(r.createElement)("div",{className:"ob-head"},!t&&Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"header-container"},Object(r.createElement)("h2",null,!tiobDash.brandedTheme&&Object(r.createElement)(_.Icon,{icon:Qe}),Object(r.createElement)("span",null,Object(w.__)("Templates Cloud","templates-patterns-collection"))),Object(r.createElement)(vt,{setCurrentTab:a,currentTab:c,license:o}))),t&&Object(r.createElement)(_.Button,{className:"close-onboarding",isLink:!0,icon:"no-alt",onClick:n}))})),yt=n(21),Et=n.n(yt),_t=Object(E.compose)(Object(v.withDispatch)((function(e,t){var n=t.data,r=n.slug,a=e("neve-onboarding"),c=a.setCurrentSite,o=a.setPreviewStatus,i=a.setImportModalStatus,s=a.setSingleTemplateImport;return{setSite:function(){return c(n)},setPreview:function(e){return o(e)},setModal:function(e){return i(e)},setImportingPages:function(){return s(r)}}})))((function(e){var t=e.data,n=e.setSite,a=e.setPreview,c=e.setModal,o=e.setImportingPages,i=t.upsell,s=t.screenshot,l=t.title,u=t.has_templates,m=t.isNew,p=Object(r.useState)(""),d=O()(p,2),b=d[0],f=d[1],h=y()("card starter-site-card",{"has-templates":u});return Object(r.createElement)("div",{onMouseEnter:function(){f("visible")},onMouseLeave:function(){f("")},className:h},m&&Object(r.createElement)("span",{className:"new-badge"},Object(w.__)("New","templates-patterns-collection").toUpperCase()),Object(r.createElement)("div",{className:"top"},Object(r.createElement)("div",{className:"actions "+b},Object(r.createElement)(_.Button,{isSecondary:!0,onClick:function(e){e.preventDefault(),n(),a(!0)}},Object(w.__)("Preview","templates-patterns-collection")),!i&&Object(r.createElement)(_.Button,{isPrimary:!0,className:"import",onClick:function(e){e.preventDefault(),n(),c(!0)}},Object(w.__)("Import","templates-patterns-collection")),!u&&i&&Object(r.createElement)(_.Button,{isLink:!0,className:"templates",target:"_blank",href:"https://themeisle.com/themes/neve/upgrade/?utm_medium=nevedashboard&utm_source=wpadmin&utm_campaign=templatecloud&utm_content=neve"},Object(w.__)("Unlock access with Business plan","templates-patterns-collection")),u&&Object(r.createElement)(_.Button,{isLink:!0,className:"templates",onClick:function(e){e.preventDefault(),n(),o()}},Object(w.__)("View Pages","templates-patterns-collection"))),s&&Object(r.createElement)("div",{className:"image",style:{backgroundImage:'url("'.concat(s,'")')}})),Object(r.createElement)("div",{className:"bottom"},Object(r.createElement)("p",{className:"title"},l),i&&Object(r.createElement)("span",{className:"pro-badge"},Object(r.createElement)(_.Dashicon,{icon:"lock",size:15}),Object(r.createElement)("span",null,Object(w.__)("Premium","templates-patterns-collection")))))})),wt=Object(E.compose)(Object(v.withSelect)((function(e){return{siteData:(0,e("neve-onboarding").getCurrentSite)()}})),Object(v.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setCurrentSite,r=t.setPreviewStatus,a=t.setImportModalStatus;return{setSite:function(e){return n(e)},setPreview:function(e){return r(e)},setModal:function(e){return a(e)}}})))((function(e){var t=e.next,n=e.prev,a=e.siteData,c=e.setSite,o=e.setPreview,i=e.setModal;return Object(r.createElement)("div",{className:"ob-preview"},Object(r.createElement)("div",{className:"preview"},Object(r.createElement)("iframe",{src:a.url,frameBorder:"0"}),Object(r.createElement)("div",{className:"loading"},Object(r.createElement)(_.Dashicon,{icon:"update",size:50}))),Object(r.createElement)("div",{className:"bottom-bar"},Object(r.createElement)("div",{className:"navigator"},Object(r.createElement)(_.Button,{onClick:function(e){e.preventDefault(),o(!1),c(null)},className:"close",label:Object(w.__)("Close","templates-patterns-collection"),icon:Y}),n&&Object(r.createElement)(_.Button,{onClick:function(e){e.preventDefault(),c(n)},className:"prev",label:Object(w.__)("Previous","templates-patterns-collection"),icon:Object(w.isRTL)()?J:K}),t&&Object(r.createElement)(_.Button,{onClick:function(e){e.preventDefault(),c(t)},className:"next",label:Object(w.__)("Next","templates-patterns-collection"),icon:Object(w.isRTL)()?K:J})),Object(r.createElement)("div",{className:"actions"},a.upsell?Object(r.createElement)(_.Button,{className:"upgrade",isPrimary:!0,href:a.utmOutboundLink||tiobDash.upgradeURL},Object(w.__)("Upgrade and Import","templates-patterns-collection")):Object(r.createElement)(_.Button,{className:"import",isPrimary:!0,onClick:function(e){e.preventDefault(),i(!0)}},Object(w.__)("Import","templates-patterns-collection")))))})),St=function(e){var t=e.editor,n=e.data,a=n.text,c=n.cta,o=n.url;return Object(r.createElement)((function(){return Object(r.createElement)("div",{className:"notification"},Object(r.createElement)("p",null,a),o&&c&&Object(r.createElement)(_.Button,{target:"_blank",isSecondary:!0,href:o.replace("<builder_name>",t).replace(" ","")},c))}),null)},kt=Object(E.compose)(Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentCategory,r=t.getCurrentEditor,a=t.getSearchQuery;return{editor:r(),category:n(),query:a()}})),Object(v.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setCurrentCategory,r=t.setCurrentEditor,a=t.setSearchQuery;return{setCurrentCategory:function(e){return n(e)},setCurrentEditor:function(e){return r(e)},onSearch:function(e){return a(e)}}})))((function(e){var t=e.count,n=(e.categories,e.editors),a=e.onSearch,c=(e.category,e.editor),o=e.onlyProSites,i=(e.setCurrentCategory,e.setCurrentEditor),s=e.query,l=e.className,u=e.showCount,m=void 0!==u&&u,p=Object(r.useState)(!1),d=O()(p,2),b=d[0],f=d[1],h=function(){return f(!b)},g=y()(l,"header-form");return Object(r.createElement)("div",{className:g},Object(r.createElement)("div",{className:"search"},Object(r.createElement)("img",{src:tiobDash.assets+"/img/search.svg",alt:Object(w.__)("Search Icon")}),Object(r.createElement)("input",{onChange:function(e){a(e.target.value)},type:"search",value:s,placeholder:Object(w.__)("Search for a starter site","templates-patterns-collection")+"..."}),!1,Object(r.createElement)((function(){return Object(r.createElement)("div",{className:"ob-dropdown categories-selector"},Object(r.createElement)(_.Button,{onClick:h,className:"select ob-dropdown"},Object(r.createElement)("span",{className:"label-editor"},Object(r.createElement)("span",{className:"icon-wrap"},Object(r.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+n[c].icon,alt:Object(w.__)("Builder Logo","templates-patterns-collection")})),o.includes(c)&&Object(r.createElement)(_.Dashicon,{icon:"lock",style:{fontSize:"16px",width:"16px",height:"16px",marginLeft:"0"}}),n[c].niceName),Object(r.createElement)(_.Dashicon,{size:14,icon:b?"arrow-up-alt2":"arrow-down-alt2"}),b&&Object(r.createElement)(_.Popover,{position:"bottom center",onClose:h,noArrow:!0},b&&Object(r.createElement)("ul",{className:"options"},Object.keys(n).map((function(e,a){return e===c?null:Object(r.createElement)("li",{key:a},Object(r.createElement)("a",{href:"#",onClick:function(t){t.preventDefault(),i(e),f(!1)}},Object(r.createElement)("span",{className:"label-editor"},Object(r.createElement)("span",{className:"icon-wrap"},Object(r.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+n[e].icon,alt:Object(w.__)("Builder Logo","templates-patterns-collection")})),o.includes(e)&&Object(r.createElement)(_.Dashicon,{icon:"lock",style:{fontSize:"16px",width:"16px",height:"16px"}}),n[e].niceName),m&&Object(r.createElement)("span",{className:"count"},t[e])))}))))))}),null)))})),Ct=(Object(E.compose)(Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentEditor,r=t.getSites;return{editor:n(),sites:r().sites}})),Object(v.withDispatch)((function(e){var t=e("neve-onboarding").setCurrentEditor;return{setCurrentEditor:function(e){return t(e)}}})))((function(e){var t=e.EDITOR_MAP,n=e.count,a=e.editor,c=e.setCurrentEditor,o=e.sites,i=e.isSmall,s=Object(r.useState)(!1),l=O()(s,2),u=l[0],m=l[1],p=Object.keys(o),d=function(){return m(!u)},b=y()(["ob-dropdown","editor-selector",{small:i}]);return Object(r.createElement)("div",{className:b},Object(r.createElement)(_.Button,{onClick:d,className:"select ob-dropdown"},Object(r.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+t[a].icon,alt:Object(w.__)("Builder Logo","templates-patterns-collection")}),!i&&Object(r.createElement)("span",null,t[a].niceName),Object(r.createElement)("span",{className:"count"},n[a]),Object(r.createElement)(_.Dashicon,{size:14,icon:u?"arrow-up-alt2":"arrow-down-alt2"}),u&&Object(r.createElement)(_.Popover,{position:"bottom center",onClose:d,noArrow:!0},u&&Object(r.createElement)("ul",{className:"options"},p.map((function(e,o){return e===a?null:Object(r.createElement)("li",{key:o},Object(r.createElement)("a",{href:"#",onClick:function(t){t.preventDefault(),c(e),m(!1)}},Object(r.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+t[e].icon,alt:Object(w.__)("Builder Logo","templates-patterns-collection")}),Object(r.createElement)("span",null,t[e].niceName),Object(r.createElement)("span",{className:"count"},n[e])))}))))))})),Object(E.compose)(Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentEditor,r=t.getSites;return{editor:n(),sites:r().sites}})),Object(v.withDispatch)((function(e){var t=e("neve-onboarding").setCurrentEditor;return{setCurrentEditor:function(e){return t(e)}}})))((function(e){var t=e.EDITOR_MAP,n=e.count,a=e.onlyProSites,c=e.editor,o=e.setCurrentEditor,i=e.sites,s=Object.keys(i);return Object(r.createElement)("div",{className:"editor-tabs"},s.map((function(e,i){var s=y()(["tab",e,{active:e===c}]);return Object(r.createElement)("a",{key:i,href:"#",className:s,onClick:function(t){t.preventDefault(),o(e)}},Object(r.createElement)("span",{className:"icon-wrap"},Object(r.createElement)("img",{className:"editor-icon",src:tiobDash.assets+"img/"+t[e].icon,alt:Object(w.__)("Builder Logo","templates-patterns-collection")})),Object(r.createElement)("span",{className:"editor"},a.includes(e)&&Object(r.createElement)(_.Dashicon,{icon:"lock",style:{fontSize:"16px",width:"16px",height:"16px"}}),t[e].niceName),Object(r.createElement)("span",{className:"count"},n[e]))})))})),Object(E.compose)(Object(v.withSelect)((function(e){return{category:(0,e("neve-onboarding").getCurrentCategory)()}})),Object(v.withDispatch)((function(e){var t=e("neve-onboarding").setCurrentCategory;return{setCurrentCategory:function(e){return t(e)}}})))((function(e){var t=e.categories,n=e.count,a=e.category,c=e.setCurrentCategory,o=e.showCount,i=void 0!==o&&o;return Object(r.createElement)("div",{className:"editor-tabs"},Object.keys(t).map((function(e,o){if(1>n[e])return null;if(tiobDash&&"1"===tiobDash.isValidLicense&&"free"===e)return null;var s=y()(["tab",e,{active:e===a}]);return Object(r.createElement)("a",{key:o,href:"#",className:s,onClick:function(t){t.preventDefault(),c(e)}},Object(r.createElement)("span",{className:"editor"},t[e]),i&&Object(r.createElement)("span",{className:"count"},n[e]))})))}))),Nt=Object(E.compose)(Object(v.withSelect)((function(e){return{category:(0,e("neve-onboarding").getCurrentCategory)()}})),Object(v.withDispatch)((function(e){var t=e("neve-onboarding").setCurrentCategory;return{setCurrentCategory:function(e){return t(e)}}})))((function(e){var t=e.categories,n=e.count,a=e.category,c=e.setCurrentCategory,o=e.showCount,i=void 0!==o&&o,s=Object(r.useState)(!1),l=O()(s,2),u=l[0],m=l[1],p=function(){return m(!u)},d=y()(["ob-dropdown","editor-selector",{small:!0}]);return Object(r.createElement)("div",{className:d},Object(r.createElement)(_.Button,{onClick:p,className:"select ob-dropdown"},Object(r.createElement)("span",null,t[a]),Object(r.createElement)("span",{className:"count"},i?n[a]:""),Object(r.createElement)(_.Dashicon,{size:14,icon:u?"arrow-up-alt2":"arrow-down-alt2"}),u&&Object(r.createElement)(_.Popover,{position:"bottom center",onClose:p,noArrow:!0},u&&Object(r.createElement)("ul",{className:"options"},Object.keys(t).map((function(e,o){return e===a||tiobDash&&"1"===tiobDash.isValidLicense&&"free"===e||1>n[e]?null:Object(r.createElement)("li",{key:o},Object(r.createElement)("a",{href:"#",onClick:function(t){t.preventDefault(),c(e),m(!1)}},Object(r.createElement)("span",null,t[e]),i&&Object(r.createElement)("span",{className:"count"},n[e])))}))))))})),xt=Object(E.compose)(Object(v.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setOnboardingState,r=t.setCurrentCategory;return{cancelOnboarding:function(){n(!1)},resetCategory:function(){r("all")},setCurrentTab:t.setCurrentTab}})),Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentEditor,r=t.getCurrentCategory,a=t.getOnboardingStatus,c=t.getSites;return{editor:n(),category:r(),isOnboarding:a(),getSites:c()}})))((function(e){var t,n=e.filterByCategory,a=e.filterBySearch,c=e.getSitesForBuilder,o=e.isOnboarding,i=e.getSites,s=e.category,l=e.editor,u=Object(r.useState)(!1),m=O()(u,2),p=m[0],d=m[1],b=i.sites,f=void 0===b?{}:b,h=i.migration,g={top:p?0:"-100%"},v=Object.keys(f),j=v.filter((function(e){return Object.keys(f[e]).filter((function(t){return!0===f[e][t].upsell})).length===Object.keys(f[e]).length})),y=(t={builders:{},categories:{}},v.forEach((function(e){var r=c(e);r=n(r,s),r=a(r),t.builders[e]=r?r.length:0})),Object.keys(et).forEach((function(e){var r=c(l);r=n(r,e),r=a(r),t.categories[e]=r?r.length:0})),t),E=50<=c(l).length;return Object(r.createElement)(r.Fragment,null,!o&&!h&&Object(r.createElement)("div",{className:"sticky-nav",style:g},Object(r.createElement)("div",{className:"container sticky-nav-content"},!tiobDash.brandedTheme&&Object(r.createElement)(_.Icon,{icon:Qe,size:32}),Object(r.createElement)(kt,{className:"in-sticky",count:y.builders,categories:et,editors:tt,onlyProSites:j,showCount:E}),!1,Object(r.createElement)(Nt,{count:y.categories,categories:et,showCount:E}))),Object(r.createElement)(q.a,{onChange:function(e){d(!e)}},Object(r.createElement)("div",null,!o&&Object(r.createElement)("p",{className:"instructions"},tiobDash.strings.starterSitesTabDescription),!1,Object(r.createElement)(Nt,{count:y.categories,categories:et,showCount:E}),Object(r.createElement)(kt,{count:y.builders,categories:et,editors:tt,onlyProSites:j,showCount:E}),!1,Object(r.createElement)(Ct,{categories:et,count:y.categories,showCount:E}),!tiobDash.isValidLicense&&Object(r.createElement)(St,{data:tiobDash.upsellNotifications.upsell_1,editor:l}))))})),Tt=Object(E.compose)(Object(v.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setOnboardingState,r=t.setCurrentCategory;return{cancelOnboarding:function(){n(!1)},resetCategory:function(){r("all")},setCurrentTab:t.setCurrentTab,setSearchQuery:t.setSearchQuery}})),Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentEditor,r=t.getCurrentCategory,a=t.getPreviewStatus,c=t.getCurrentSite,o=t.getImportModalStatus,i=t.getOnboardingStatus,s=t.getSites,l=t.getInstallModalStatus,u=t.getCurrentTab,m=t.getSearchQuery;return{editor:n(),category:r(),previewOpen:a(),currentSiteData:c(),importModal:o(),installModal:l(),isOnboarding:i(),getSites:s(),currentTab:u(),searchQuery:m()}})))((function(e){var t=e.getSites,n=e.category,a=e.resetCategory,c=e.editor,o=e.previewOpen,i=e.currentSiteData,s=e.isOnboarding,l=e.cancelOnboarding,u=e.setSearchQuery,m=e.searchQuery,p=t.sites,d=void 0===p?{}:p,b=function(){var e={};return g().forEach((function(t){var n=d&&d[t]?d[t]:{};e[t]=G()(Object.values(n))})),e},f=function(e,t){return"free"===t?e.filter((function(e){return!e.upsell})):"all"!==t?e.filter((function(e){return e.keywords.includes(t)})):e},h=function(e){return m?new Et.a(e,{includeScore:!0,keys:["title","slug","keywords"]}).search(m).map((function(e){return e.item})):e},g=function(){return Object.keys(d)},v=function(){var e=b()[c];return e=h(e),f(e,n)},j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null===i)return null;var t=b()[c],n=t.indexOf(i);return-1===n||1===t.length?null:e&&0===n?t[t.length-1]:e||n!==t.length-1?t[e?n-1:n+1]:t[0]};return 1>d.length?Object(r.createElement)(r.Fragment,null,Object(r.createElement)("p",null,Object(w.__)("Starter sites could not be loaded. Please refresh and try again.","templates-patterns-collection"),s&&Object(r.createElement)(_.Button,{style:{display:"block",margin:"20px auto"},isPrimary:!0,onClick:l},Object(w.__)("Close","templates-patterns-collection")))):Object(r.createElement)(r.Fragment,null,Object(r.createElement)(xt,{getSitesForBuilder:function(e){return b()[e]},filterBySearch:h,filterByCategory:f}),0===v().length&&Object(r.createElement)("div",{className:"no-results"},Object(r.createElement)("p",null,Object(w.__)("No results found.","templates-patterns-collection")," ",Object(w.__)("You can try a different search or use one of the categories below.","templates-patterns-collection")),Object(r.createElement)("div",{className:"tags"},Xe.map((function(e,t){return Object(r.createElement)(_.Button,{key:t,isPrimary:!0,className:"tag",onClick:function(t){t.preventDefault(),u(e),a()}},e)})))),Object(r.createElement)((function(){var e=Object(r.useState)(9),t=O()(e,2),n=t[0],a=t[1],c=v();return Object(r.createElement)("div",{className:"ob-sites is-grid"},c.slice(0,n).map((function(e,t){return Object(r.createElement)(_t,{key:t,data:e})})),Object(r.createElement)(q.a,{onChange:function(e){if(!e)return!1;a(n+9)}},Object(r.createElement)("span",{style:{height:10,width:10,display:"block"}})))}),null),o&&i&&Object(r.createElement)(wt,{next:j(),prev:j(!0)}))})),Pt=Object(E.compose)(Object(v.withDispatch)((function(e){var t=e("neve-onboarding"),n=t.setOnboardingState,r=t.setCurrentCategory;return{cancelOnboarding:function(){n(!1)},resetCategory:function(){r("all")},setCurrentTab:t.setCurrentTab}})),Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getCurrentEditor,r=t.getCurrentCategory,a=t.getPreviewStatus,c=t.getCurrentSite,o=t.getImportModalStatus,i=t.getOnboardingStatus,s=t.getSites,l=t.getInstallModalStatus,u=t.getCurrentTab,m=t.getSingleImport;return{editor:n(),category:r(),previewOpen:a(),currentSiteData:c(),importModal:o(),installModal:l(),isOnboarding:i(),getSites:s(),currentTab:u(),singleImport:m()}})))((function(e){var t=e.getSites,n=(e.installModal,e.currentTab),a=e.singleImport,c=e.importModal,o=e.currentSiteData,i=(e.isOnboarding,t.migration);return Object(r.createElement)(r.Fragment,null,Object(r.createElement)("div",{className:"ob"},Object(r.createElement)(jt,null),Object(r.createElement)("div",{className:"ob-body"},Object(r.createElement)("div",{className:"content-container"},i&&Object(r.createElement)(H,{data:i}),"starterSites"===n&&(a?Object(r.createElement)(bt,{slug:a}):Object(r.createElement)(Tt,null)),"library"===n&&Object(r.createElement)(Ze,null),"pageTemplates"===n&&Object(r.createElement)(Ze,{isGeneral:!0})))),c&&o&&Object(r.createElement)(dt,null))})),Dt=Object(v.withSelect)((function(e){var t=e("neve-onboarding"),n=t.getOnboardingStatus,r=t.getUserStatus;return{onboarding:n(),userStatus:r()}}))((function(e){var t=e.onboarding,n=e.userStatus,a=y()(["content-wrap","starter-sites",{"is-onboarding":t,"is-free":!n}]),c=Object(r.useState)(!1),o=O()(c,2),i={isLicenseOpen:o[0],setLicenseOpen:o[1]};return Object(r.createElement)(Ye.Provider,{value:i},Object(r.createElement)("div",{className:"tiob-wrap"},Object(r.createElement)("div",{className:a},Object(r.createElement)("div",{className:"container content"},Object(r.createElement)("div",{className:"main"},Object(r.createElement)("div",{className:"tab-content columns starter-sites"},Object(r.createElement)(Pt,null)))))))}));Object(v.registerStore)("neve-onboarding",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REFRESH_SITES":var n=t.payload.sites;return i(i({},e),{},{sites:n});case"SET_CURRENT_EDITOR":var r=t.payload.editor;return localStorage.setItem("neve-onboarding-editor",r),i(i({},e),{},{editor:r});case"SET_CURRENT_CATEGORY":var a=t.payload.category;return i(i({},e),{},{category:a});case"SET_FOCUSED_SITE":var c=t.payload.siteData;return i(i({},e),{},{currentSite:c});case"SET_PREVIEW_STATUS":var o=t.payload.previewStatus;return i(i({},e),{},{previewStatus:o});case"SET_IMPORT_MODAL_STATUS":var s=t.payload.importModalStatus;return i(i({},e),{},{importModalStatus:s});case"SET_INSTALL_MODAL_STATUS":var l=t.payload.installModalStatus;return i(i({},e),{},{installModalStatus:l});case"SET_ONBOARDING":var u=t.payload.status;return i(i({},e),{},{isOnboarding:u});case"SET_THEME_ACTIONS":var m=t.payload.themeActions;return i(i({},e),{},{themeAction:m});case"SET_CURRENT_TAB":var p=t.payload.currentTab;return i(i({},e),{},{singleTemplateImport:null,currentTab:p});case"SET_FETCHING":var d=t.payload.fetching;return i(i({},e),{},{fetching:d});case"SET_SINGLE_TEMPLATE_IMPORT":var b=t.payload.slug;return i(i({},e),{},{singleTemplateImport:b});case"SET_TEMPLATE_MODAL":var h=t.payload.data;return i(i({},e),{},{templateModal:h});case"SET_SEARCH_QUERY":var g=t.payload.query;return i(i({},e),{},{searchQuery:g});case"SET_LICENSE":var O=t.payload.license;return i(i({},e),{},{license:O})}return e},actions:h,selectors:{getSites:function(e){return e.sites},getMigrationData:function(e){return e.migrationData},getCurrentEditor:function(e){return e.editor},getCurrentCategory:function(e){return e.category},getCurrentSite:function(e){return e.currentSite},getPreviewStatus:function(e){return e.previewStatus},getImportModalStatus:function(e){return e.importModalStatus},getOnboardingStatus:function(e){return e.isOnboarding},getThemeAction:function(e){return e.themeAction},getInstallModalStatus:function(e){return e.installModalStatus},getCurrentTab:function(e){return e.currentTab},getFetching:function(e){return e.fetching},getSingleImport:function(e){return e.singleTemplateImport},getTemplateModal:function(e){return e.templateModal},getSearchQuery:function(e){return e.searchQuery},getUserStatus:function(e){return e.license&&e.license.tier&&[6,17,23,5,9,14,20,1,7,12,18,3,8,13,19].includes(e.license.tier)},getLicense:function(e){return e.license}}}),Object(r.render)(Object(r.createElement)(Dt,null),document.getElementById("tpc-app"))}]);